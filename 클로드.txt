# Math Video Maker í”„ë¡œì íŠ¸

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

"ì‹œì‘" ì´ë¼ê³  ì…ë ¥í•˜ë©´ ì˜ìƒ ì œì‘ì„ ì‹œì‘í•©ë‹ˆë‹¤.

---

## ğŸ“‹ ëŒ€í™”í˜• ì›Œí¬í”Œë¡œìš°

ì‚¬ìš©ìê°€ "ì‹œì‘" ì…ë ¥ ì‹œ, ì•„ë˜ ìˆœì„œëŒ€ë¡œ ì§„í–‰:

### Step 1: í”„ë¡œì íŠ¸ ì„¤ì • ìˆ˜ì§‘

Claudeê°€ ë¬¼ì–´ë³¼ ê²ƒ:

1. "ì˜ìƒ ì£¼ì œê°€ ë¬´ì—‡ì¸ê°€ìš”?"
2. "ì˜ìƒ ê¸¸ì´ëŠ” ëª‡ ë¶„ì¸ê°€ìš”?" (ê¸°ë³¸ê°’: 8ë¶„)
3. "í™”ë©´ ë¹„ìœ¨ì„ ì„ íƒí•˜ì„¸ìš”: 16:9 (YouTube) / 9:16 (Shorts)" (ê¸°ë³¸ê°’: 16:9)
4. "ìŠ¤íƒ€ì¼ì„ ì„ íƒí•˜ì„¸ìš”: minimal / cyberpunk / paper / space / geometric / stickman" (ê¸°ë³¸ê°’: cyberpunk)
5. "ë‚œì´ë„ë¥¼ ì„ íƒí•˜ì„¸ìš”: beginner / intermediate / advanced" (ê¸°ë³¸ê°’: intermediate)

ëª¨ë“  ì •ë³´ ìˆ˜ì§‘ í›„:
â†’ `python math_video_pipeline.py init --title "ì£¼ì œ" --duration ì´ˆ --style ìŠ¤íƒ€ì¼ --difficulty ë‚œì´ë„ --aspect ë¹„ìœ¨` ì‹¤í–‰
â†’ state.json ìƒì„± í™•ì¸

---

### Step 2: ëŒ€ë³¸ ì‘ì„±

Claudeê°€ í•  ê²ƒ:

1. `skills/script-writer.md` ì½ê¸°
2. 5ë‹¨ê³„ êµ¬ì¡°ë¡œ ëŒ€ë³¸ ì‘ì„±:
   - Hook (10ì´ˆ): í¥ë¯¸ ìœ ë°œ
   - ë¶„ì„ (30%): ë¬¸ì œ ìƒí™©
   - í•µì‹¬ ìˆ˜í•™ (40%): ê°œë… ì„¤ëª…
   - ì ìš© (20%): ì‹¤ìƒí™œ ì—°ê²°
   - ì•„ì›ƒíŠ¸ë¡œ (10ì´ˆ): ë§ˆë¬´ë¦¬
3. ì‚¬ìš©ìì—ê²Œ ëŒ€ë³¸ ë³´ì—¬ì£¼ê³  ìŠ¹ì¸ ìš”ì²­
4. ìŠ¹ì¸ ì‹œ â†’ `output/{project_id}/1_script/reading_script.json` ì €ì¥
5. TTSìš© ë³€í™˜ (ìˆ«ìâ†’í•œê¸€ ë°œìŒ)
6. **state.json ì—…ë°ì´íŠ¸**: `current_phase: "script_approved"`, `files.script` ê²½ë¡œ ì €ì¥

âœ… **ì´ ì‹œì ì—ì„œ `/clear` ê°€ëŠ¥**

---

### Step 3: ì”¬ ë¶„í•  + ë‚˜ë ˆì´ì…˜ + ì—ì…‹ ì„¤ê³„

> **Sub-agent ì‚¬ìš©**: 6ê°œ ì—ì´ì „íŠ¸ê°€ ì„¹ì…˜ë³„ë¡œ ë¶„ë‹´ ì²˜ë¦¬
> - Scene Director 3ê°œ: ì”¬ ë¶„í•  + ë‚˜ë ˆì´ì…˜ ë³€í™˜
> - Asset Designer 3ê°œ: ì—ì…‹ ì„¤ê³„ + required_assets ì±„ìš°ê¸°

Claudeê°€ í•  ê²ƒ:

1. **6ê°œ Sub-agent ìˆœì°¨ í˜¸ì¶œ** (Scene Director â†’ Asset Designer ìŒìœ¼ë¡œ):

   ```
   [Hook + ë¶„ì„]
   scene-director-hook   â†’ scenes_part1.json (ì”¬ ë¶„í•  + ë‚˜ë ˆì´ì…˜)
   asset-designer-hook   â†’ scenes_part1.json (required_assets ì¶”ê°€)

   [í•µì‹¬ìˆ˜í•™]
   scene-director-core   â†’ scenes_part2.json (ì”¬ ë¶„í•  + ë‚˜ë ˆì´ì…˜)
   asset-designer-core   â†’ scenes_part2.json (required_assets ì¶”ê°€)

   [ì ìš© + ì•„ì›ƒíŠ¸ë¡œ]
   scene-director-outro  â†’ scenes_part3.json (ì”¬ ë¶„í•  + ë‚˜ë ˆì´ì…˜)
   asset-designer-outro  â†’ scenes_part3.json (required_assets ì¶”ê°€)
   ```

2. **Scene Directorê°€ ì²˜ë¦¬í•˜ëŠ” ë‚´ìš©**:
   - `reading_script.json` ì „ì²´ ì½ê¸° (ë¬¸ë§¥ íŒŒì•…)
   - ë‹´ë‹¹ ì„¹ì…˜ë§Œ ì”¬ ë¶„í• 
   - ë‚˜ë ˆì´ì…˜ 3ì¢… ë™ì‹œ ìƒì„± (narration_display, subtitle_display, narration_tts)
   - `required_elements` ì‘ì„± (ì—ì…‹ì€ ë¹„ì›Œë‘ )

3. **Asset Designerê°€ ì²˜ë¦¬í•˜ëŠ” ë‚´ìš©**:
   - `scenes_part{N}.json` ì½ê¸°
   - ê° ì”¬ì˜ narration_display, semantic_goal, emotion_flow ë¶„ì„
   - **í…ìŠ¤íŠ¸ ë‚´ ê¸°í˜¸ â†’ ì•„ì´ì½˜ ë¶„ë¦¬** (â†‘, â†’, â†“ ë“±)
   - `required_elements` ë³´ê°• (ìºë¦­í„°/ë¬¼ì²´/ì•„ì´ì½˜ ì¶”ê°€)
   - `required_assets` ìƒì„¸ ì‘ì„± (description í¬í•¨)

4. **ì”¬ JSON í˜•ì‹** (ë‚˜ë ˆì´ì…˜ 3ì¢… + ì—ì…‹ í†µí•©):
   ```json
   {
     "scene_id": "s1",
     "section": "Hook",
     "duration": 12,

     "narration_display": "ëŒ€ë³¸ ì›ë¬¸ ê·¸ëŒ€ë¡œ",
     "subtitle_display": "ìë§‰ìš© ë¶„í•  (;; ì‚½ì…)",
     "narration_tts": "TTS ë°œìŒ ë³€í™˜ (í•œê¸€ ë°œìŒ)",

     "semantic_goal": "ì”¬ì˜ ëª©ì ",
     "required_elements": [
       {"type": "image", "asset": "stickman_surprised", "role": "ì¶©ê²©ë°›ì€ ìºë¦­í„°"},
       {"type": "icon", "asset": "question_mark", "role": "í˜¸ê¸°ì‹¬ ê°•ì¡°"},
       {"type": "text", "content": "30ë§Œì›", "role": "ê°€ê²© ì°¨ì´"}
     ],
     "wow_moment": "ê°•ì¡° í¬ì¸íŠ¸",
     "emotion_flow": "ê°ì • íë¦„",

     "style": "cyberpunk",
     "is_3d": false,
     "scene_class": "Scene",
     "camera_settings": null,
     "required_assets": [
       {
         "category": "characters",
         "filename": "stickman_surprised",
         "description": "ë†€ë€ í‘œì •ì˜ ì¡¸ë¼ë§¨ (ëˆˆ í¬ê²Œ, ì… ë²Œë¦° ëª¨ìŠµ)",
         "usage": "í™”ë©´ ì™¼ìª½"
       },
       {
         "category": "icons",
         "filename": "question_mark",
         "description": "ë¬¼ìŒí‘œ ì•„ì´ì½˜ (ë…¸ë€ìƒ‰, êµµì€ ì„ )",
         "usage": "ìºë¦­í„° ë¨¸ë¦¬ ìœ„"
       }
     ]
   }
   ```

5. **ëª¨ë“  ì—ì´ì „íŠ¸ ì™„ë£Œ í›„ ë³‘í•©**:
   ```bash
   python math_video_pipeline.py merge-scenes
   ```
   - `scenes_part1.json` + `scenes_part2.json` + `scenes_part3.json` ë³‘í•©
   - ì”¬ ë²ˆí˜¸ ì¬ì •ë ¬ (s1, s2, s3...)
   - `2_scenes/scenes.json` ìƒì„±
   - `2_scenes/s1.json`, `s2.json`, ... ê°œë³„ íŒŒì¼ ìƒì„±

6. **state.json ì—…ë°ì´íŠ¸**: `current_phase: "scenes_completed"`, `files.scenes` ê²½ë¡œ ì €ì¥

#### Sub-agent í˜¸ì¶œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

**Scene Director í˜¸ì¶œ:**
```
"{ì—ì´ì „íŠ¸ëª…} ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ì”¬ ë¶„í• ì„ ìˆ˜í–‰í•˜ì„¸ìš”.

í”„ë¡œì íŠ¸: {project_id}
ëŒ€ë³¸: output/{project_id}/1_script/reading_script.json
ì¶œë ¥: output/{project_id}/2_scenes/scenes_part{N}.json"
```

**Asset Designer í˜¸ì¶œ:**
```
"{ì—ì´ì „íŠ¸ëª…} ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ì—ì…‹ì„ ì„¤ê³„í•˜ì„¸ìš”.

í”„ë¡œì íŠ¸: {project_id}
ì…ë ¥: output/{project_id}/2_scenes/scenes_part{N}.json
ì¶œë ¥: output/{project_id}/2_scenes/scenes_part{N}.json (ë®ì–´ì“°ê¸°)"
```

#### ì—ì´ì „íŠ¸ë³„ ë‹´ë‹¹ ì„¹ì…˜

| ì—ì´ì „íŠ¸ | ì—­í•  | ë‹´ë‹¹ ì„¹ì…˜ | íŒŒì¼ |
|----------|------|----------|------|
| `scene-director-hook` | ì”¬ ë¶„í•  | Hook + ë¶„ì„ | `scenes_part1.json` |
| `asset-designer-hook` | ì—ì…‹ ì„¤ê³„ | Hook + ë¶„ì„ | `scenes_part1.json` |
| `scene-director-core` | ì”¬ ë¶„í•  | í•µì‹¬ìˆ˜í•™ | `scenes_part2.json` |
| `asset-designer-core` | ì—ì…‹ ì„¤ê³„ | í•µì‹¬ìˆ˜í•™ | `scenes_part2.json` |
| `scene-director-outro` | ì”¬ ë¶„í•  | ì ìš© + ì•„ì›ƒíŠ¸ë¡œ | `scenes_part3.json` |
| `asset-designer-outro` | ì—ì…‹ ì„¤ê³„ | ì ìš© + ì•„ì›ƒíŠ¸ë¡œ | `scenes_part3.json` |

#### Asset Designer í•µì‹¬ ê·œì¹™

1. **ììœ ë¡­ê²Œ ì„¤ê³„**: ê¸°ì¡´ ì—ì…‹ ëª©ë¡ì— ì œí•œ ì—†ì´ í•„ìš”í•œ ì—ì…‹ ìš”ì²­
2. **description ìƒì„¸ ì‘ì„±**: ì—†ëŠ” ì—ì…‹ì€ ì‚¬ìš©ìê°€ ìƒì„±í•  ë•Œ ì°¸ê³ 
3. **í…ìŠ¤íŠ¸ ë‚´ ê¸°í˜¸ â†’ ì•„ì´ì½˜ ë¶„ë¦¬**:
   - `type: "text"` ë‚´ í™”ì‚´í‘œ(â†‘, â†’, â†“) â†’ `type: "icon"`ìœ¼ë¡œ ë¶„ë¦¬
   - `type: "math"`ëŠ” **ì ˆëŒ€ ê±´ë“¤ì§€ ì•ŠìŒ** (LaTeX ê·¸ëŒ€ë¡œ)

4. **ì„¹ì…˜ë³„ ì—ì…‹ ë°€ë„**:
   | ì„¹ì…˜ | ì—ì…‹ ë°€ë„ | í•„ìˆ˜ ê·œì¹™ |
   |------|----------|----------|
   | Hook | ë†’ìŒ | ë°˜ë“œì‹œ 1ê°œ ì´ìƒ ì—ì…‹ |
   | ë¶„ì„ | ë†’ìŒ | ì‹¤ë¬¼ ì˜ˆì‹œ ì ê·¹ í™œìš© |
   | í•µì‹¬ìˆ˜í•™ | ë‚®ìŒ~ì¤‘ê°„ | ìˆ˜ì‹ ì”¬ì€ ì—ì…‹ ì—†ì´ OK, 30ì´ˆ ì´ìƒ ì—ì…‹ ì—†ëŠ” êµ¬ê°„ ê¸ˆì§€ |
   | ì ìš© | ë†’ìŒ | ì‹¤ìƒí™œ ì˜ˆì‹œ ì ê·¹ í™œìš© |
   | ì•„ì›ƒíŠ¸ë¡œ | ì¤‘ê°„ | ê¸ì •ì  ìºë¦­í„° í•„ìˆ˜ |

> ğŸ’¡ **ìë™ ìƒì„±**: ì‚¬ìš©ì ìŠ¹ì¸ ì—†ì´ ìë™ ì§„í–‰. ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ "ì”¬ ìˆ˜ì •" ëª…ë ¹ ì‚¬ìš©.
>
> ğŸ’¡ **ë‚˜ë ˆì´ì…˜ í†µí•©**: ê¸°ì¡´ Step 3.1ì´ Step 3ì— í†µí•©ë¨. ë³„ë„ `2_narration/` í´ë” ë¶ˆí•„ìš”.
>
> ğŸ’¡ **ì—ì…‹ ììœ  ì„¤ê³„**: Asset Designerê°€ í•„ìš”í•œ ì—ì…‹ì„ ììœ ë¡­ê²Œ ìš”ì²­. ì—†ëŠ” ì—ì…‹ì€ Step 3.5ì—ì„œ ìƒì„±.

âœ… **ì´ ì‹œì ì—ì„œ `/clear` ê°€ëŠ¥**

---

### Step 3.5: ì—ì…‹ ì²´í¬ (Supabase ì—°ë™)

> **ì—ì…‹ ì €ì¥ì†Œ**: Supabase Storage (`math-video-assets` ë²„í‚·)
> **ë©”íƒ€ë°ì´í„°**: Supabase `assets` í…Œì´ë¸”

Claudeê°€ í•  ê²ƒ:

1. `python math_video_pipeline.py asset-check` ì‹¤í–‰
   - `scenes.json`ì—ì„œ `required_elements` ì¤‘ ì´ë¯¸ì§€ íƒ€ì… ìˆ˜ì§‘
   - Supabase `assets` í…Œì´ë¸”ì—ì„œ ë³´ìœ  ëª©ë¡ ì¡°íšŒ
   - **ìˆìœ¼ë©´** â†’ ë¡œì»¬ `assets/`ì— ë‹¤ìš´ë¡œë“œ (ìºì‹œ)
   - **ì—†ìœ¼ë©´** â†’ `missing_assets.json` ìƒì„±

2. **ëˆ„ë½ ì—ì…‹ì´ ìˆìœ¼ë©´ Claudeê°€ ë‘ ê°œì˜ í”„ë¡¬í”„íŠ¸ íŒŒì¼ ìƒì„±**:
   - `skills/asset-prompt-writer.md` ì½ê¸° â† **í•„ìˆ˜!**
   - `output/{project_id}/svg_ai_prompts.json` â†’ ì•„ì´ì½˜ìš© SVG AI ìƒì„± í”„ë¡¬í”„íŠ¸
   - `output/{project_id}/png_gemini_prompts.json` â†’ ìºë¦­í„°/ë¬¼ì²´ìš© PNG Gemini ìƒì„± í”„ë¡¬í”„íŠ¸

3. ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ ìƒì„±:
   - **SVG**: AIì— í”„ë¡¬í”„íŠ¸ ì…ë ¥ â†’ SVG ìƒì„± â†’ `assets/icons/`ì— ì €ì¥
   - **PNG**: Geminiì— í”„ë¡¬í”„íŠ¸ ì…ë ¥ â†’ ì´ë¯¸ì§€ ìƒì„± â†’ **ë°°ê²½ ì œê±°** â†’ `assets/`ì— ì €ì¥

4. ì‚¬ìš©ìê°€ "ì—ì…‹ ì¤€ë¹„ ì™„ë£Œ" ì…ë ¥

5. `python math_video_pipeline.py asset-sync` ì‹¤í–‰
   - ì‹ ê·œ íŒŒì¼ ê°ì§€ â†’ Supabase Storageì— ì—…ë¡œë“œ
   - `assets` í…Œì´ë¸”ì— ë©”íƒ€ë°ì´í„° ì €ì¥
   - ëª¨ë“  íŒŒì¼ ì¡´ì¬ í™•ì¸ â†’ Step 4 ì§„í–‰

6. **state.json ì—…ë°ì´íŠ¸**: `current_phase: "assets_checked"`

### í”„ë¡¬í”„íŠ¸ ìƒì„± ê·œì¹™ (ìƒì„¸: `skills/asset-prompt-writer.md`)

> **í•µì‹¬**: AIê°€ íˆ¬ëª… ë°°ê²½ì„ ìƒì„±í•´ë„ ì‹¤ì œë¡œ íˆ¬ëª…í•˜ì§€ ì•ŠìŒ
> â†’ **í°ìƒ‰ ë°°ê²½**ìœ¼ë¡œ ìƒì„± í›„ ë°°ê²½ ì œê±° ë„êµ¬ ì‚¬ìš©

| í•­ëª© | ê·œì¹™ |
|------|------|
| ë°°ê²½ | `solid white background` (íˆ¬ëª… X) |
| ë‚´ë¶€ | `solid filled design` (ë¹ˆ ë‚´ë¶€ X) |
| Negative | `hollow, outline only, transparent inside` |

#### ì¹´í…Œê³ ë¦¬ë³„ í¬ê¸°
| ì¹´í…Œê³ ë¦¬ | í¬ê¸° | ìŠ¤íƒ€ì¼ |
|----------|------|--------|
| characters | 500x700 px | ì¡¸ë¼ë§¨ stick figure |
| icons | 300x300 px | minimalist 2D |
| objects | 500x500 px | minimalist 2D |

#### ì¡¸ë¼ë§¨ ìºë¦­í„° í•„ìˆ˜ ìš”ì†Œ
- ì–¼êµ´: `solid peach/beige skin (#FFDAB9)`
- ëª¸: `black stick lines`
- ì˜·: ê°ì •ì— ë§ëŠ” ìƒ‰ìƒ (happy=#FFD700, worried=#808080 ë“±)

âœ… **ì´ ì‹œì ì—ì„œ `/clear` ê°€ëŠ¥**

---

### Step 4: TTS ìƒì„±

Claudeê°€ í•  ê²ƒ:

1. **ì‚¬ìš©ìì—ê²Œ TTS ë°©ì‹ ì„ íƒ ìš”ì²­:**

   - "ìŒì„± ìƒì„± ë°©ì‹ì„ ì„ íƒí•˜ì„¸ìš”:"
     1. **OpenAI TTS ì‚¬ìš©** (ê¶Œì¥, ìœ ë£Œ $0.20/ì˜ìƒ)
     2. **ì§ì ‘ ë…¹ìŒí•´ì„œ ì—…ë¡œë“œ** (ë¬´ë£Œ)

2. **OpenAI TTS ì„ íƒ ì‹œ:**

   - `python math_video_pipeline.py tts-all` ì‹¤í–‰
   - ê²°ê³¼ í™•ì¸ í›„ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
   - **state.json ì—…ë°ì´íŠ¸**: `current_phase: "tts_completed"`, `files.audio[]` ë°°ì—´ ì €ì¥

3. **ì™¸ë¶€ ë…¹ìŒ ì„ íƒ ì‹œ:**
   - "ì™¸ë¶€ ë…¹ìŒì„ ì§„í–‰í•©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ë¥¼ ë‚´ë³´ëƒ…ë‹ˆë‹¤."
   - `python math_video_pipeline.py tts-export` ì‹¤í–‰
   - ì‚¬ìš©ìì—ê²Œ ì•ˆë‚´: `0_audio/tts_texts.json` ì°¸ì¡°í•˜ì—¬ ë¬¸ì¥ë³„ ë…¹ìŒ (íŒŒì¼ëª…: s1_1.mp3, s1_2.mp3...)
   - ì‚¬ìš©ìê°€ "ì˜¤ë””ì˜¤ íŒŒì¼ ì¤€ë¹„ì™„ë£Œ" ì…ë ¥ ì‹œ:
     - `python math_video_pipeline.py audio-check` ì‹¤í–‰
     - ëˆ„ë½ íŒŒì¼ ìˆìœ¼ë©´ ëª©ë¡ ì•ˆë‚´
     - ëª¨ë“  íŒŒì¼ ì¡´ì¬ ì‹œ â†’ ë‹¤ìŒ ì§„í–‰
   - `python math_video_pipeline.py audio-process` ì‹¤í–‰
     - Whisperë¡œ ê° íŒŒì¼ duration ë¶„ì„
     - ì”¬ë³„ timing.json ìƒì„±
   - **state.json ì—…ë°ì´íŠ¸**: `current_phase: "tts_completed"`, `files.audio[]` ë°°ì—´ ì €ì¥

> âš ï¸ **TTS ì—”ì§„ ë³€ê²½ ì‹œ ì£¼ì˜**: ì¤‘ê°„ì— TTS ë°©ì‹ì„ ë°”ê¾¸ë©´ ë°˜ë“œì‹œ `0_audio/` í´ë”ë¥¼ ë¹„ì›Œì•¼ í•©ë‹ˆë‹¤! (ëª©ì†Œë¦¬ê°€ ì„ì´ë©´ ì¼ê´€ì„±ì´ ê¹¨ì§)

âœ… **ì´ ì‹œì ì—ì„œ `/clear` ê°€ëŠ¥**

---

### Step 4.5: Visual Prompter (ì‹œê° ì„¤ê³„) - 3ë‹¨ê³„ ë¶„ë¦¬

> **ì—­í• **: Scene Directorì˜ ì˜ë¯¸ì  ì§€ì‹œ("What")ë¥¼ Manim Coderê°€ ë°”ë¡œ êµ¬í˜„ ê°€ëŠ¥í•œ êµ¬ì²´ì  ì‹œê° ëª…ì„¸("How")ë¡œ ë³€í™˜
>
> **3ë‹¨ê³„ ë¶„ë¦¬ ì´ìœ **: í† í° ì ˆì•½ + ì‹¤ìˆ˜ ë°©ì§€ (ê¸°ì¡´ ëŒ€ë¹„ 36% í† í° ì ˆê°)
>
> âš ï¸ **ë°°ì¹˜ ì²˜ë¦¬**: 30ì”¬ ë‹¨ìœ„ë¡œ ì—ì´ì „íŠ¸ë¥¼ ìë™ í˜¸ì¶œ (ì—ì´ì „íŠ¸ ì»¨í…ìŠ¤íŠ¸ ê³¼ë¶€í•˜ ë°©ì§€)

---

#### Step 4.5a: Layout ë‹¨ê³„ (ê°ì²´ ë°°ì¹˜)

> **Sub-agent ì‚¬ìš©**: `visual-layout` ì—ì´ì „íŠ¸ì—ê²Œ ì‘ì—… ìœ„ì„
> **ë°°ì¹˜ ë‹¨ìœ„**: 30ì”¬ì”© ìƒˆ ì—ì´ì „íŠ¸ í˜¸ì¶œ (ì»¨í…ìŠ¤íŠ¸ ë¶„ë¦¬)

Claudeê°€ í•  ê²ƒ:

1. **ì´ ì”¬ ìˆ˜ í™•ì¸** (state.jsonì˜ `scenes.total`)
2. **30ì”¬ ë‹¨ìœ„ë¡œ ë°°ì¹˜ ë¶„í• **:
   - ì˜ˆ: 56ì”¬ â†’ [s1-s30], [s31-s56]
3. **ê° ë°°ì¹˜ë§ˆë‹¤ ìƒˆ `visual-layout` ì—ì´ì „íŠ¸ í˜¸ì¶œ**:
   ```
   ë°°ì¹˜ 1: visual-layout ì—ì´ì „íŠ¸ í˜¸ì¶œ (s1~s30)
   â†“ ì™„ë£Œ ëŒ€ê¸°
   ë°°ì¹˜ 2: visual-layout ì—ì´ì „íŠ¸ í˜¸ì¶œ (s31~s56) â† ìƒˆ ì»¨í…ìŠ¤íŠ¸
   ```
4. ì—ì´ì „íŠ¸ê°€ í•  ê²ƒ:
   - `2_scenes/s{n}.json` ê°œë³„ íŒŒì¼ ì½ê¸°
   - objects ì •ì˜ (canvas, objects, layout_notes)
   - `3_visual_prompts/s{n}_layout.json` ì €ì¥
5. **ëª¨ë“  ë°°ì¹˜ ì™„ë£Œ í›„** state.json ì—…ë°ì´íŠ¸

> ğŸ’¡ **ë°°ì¹˜ ì²˜ë¦¬ ì¥ì **: ì—ì´ì „íŠ¸ê°€ 30ì”¬ë§Œ ì²˜ë¦¬í•˜ë¯€ë¡œ ì»¨í…ìŠ¤íŠ¸ ê³¼ë¶€í•˜ ì—†ìŒ
> â†’ ê° ë°°ì¹˜ê°€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ ì•ˆì •ì„± í–¥ìƒ

âœ… **Layout ì „ì²´ ì™„ë£Œ í›„ Animation ë‹¨ê³„ë¡œ ìë™ ì§„í–‰**

---

#### Step 4.5b: Animation ë‹¨ê³„ (ì‹œí€€ìŠ¤ ì¶”ê°€)

> **Sub-agent ì‚¬ìš©**: `visual-animation` ì—ì´ì „íŠ¸ì—ê²Œ ì‘ì—… ìœ„ì„
> **ë°°ì¹˜ ë‹¨ìœ„**: 30ì”¬ì”© ìƒˆ ì—ì´ì „íŠ¸ í˜¸ì¶œ (ì»¨í…ìŠ¤íŠ¸ ë¶„ë¦¬)

Claudeê°€ í•  ê²ƒ:

1. **30ì”¬ ë‹¨ìœ„ë¡œ ë°°ì¹˜ ë¶„í• ** (Layoutê³¼ ë™ì¼)
2. **ê° ë°°ì¹˜ë§ˆë‹¤ ìƒˆ `visual-animation` ì—ì´ì „íŠ¸ í˜¸ì¶œ**:
   ```
   ë°°ì¹˜ 1: visual-animation ì—ì´ì „íŠ¸ í˜¸ì¶œ (s1~s30)
   â†“ ì™„ë£Œ ëŒ€ê¸°
   ë°°ì¹˜ 2: visual-animation ì—ì´ì „íŠ¸ í˜¸ì¶œ (s31~s56) â† ìƒˆ ì»¨í…ìŠ¤íŠ¸
   ```
3. ì—ì´ì „íŠ¸ê°€ í•  ê²ƒ:
   - `3_visual_prompts/s{n}_layout.json` ì½ê¸°
   - `0_audio/s{n}_timing.json` ì½ê¸°
   - sequence ì¶”ê°€ (timing ë™ê¸°í™”)
   - `3_visual_prompts/s{n}_visual.json` ì €ì¥
4. **ëª¨ë“  ë°°ì¹˜ ì™„ë£Œ í›„** state.json ì—…ë°ì´íŠ¸

âœ… **Animation ì „ì²´ ì™„ë£Œ í›„ Review ë‹¨ê³„ë¡œ ìë™ ì§„í–‰**

---

#### Step 4.5c: Review ë‹¨ê³„ (ê²€ì¦)

> **Sub-agent ì‚¬ìš©**: `visual-review` ì—ì´ì „íŠ¸ì—ê²Œ ì‘ì—… ìœ„ì„
> **ë°°ì¹˜ ë‹¨ìœ„**: 30ì”¬ì”© ìƒˆ ì—ì´ì „íŠ¸ í˜¸ì¶œ (ì»¨í…ìŠ¤íŠ¸ ë¶„ë¦¬)

Claudeê°€ í•  ê²ƒ:

1. **30ì”¬ ë‹¨ìœ„ë¡œ ë°°ì¹˜ ë¶„í• **
2. **ê° ë°°ì¹˜ë§ˆë‹¤ ìƒˆ `visual-review` ì—ì´ì „íŠ¸ í˜¸ì¶œ**:
   ```
   ë°°ì¹˜ 1: visual-review ì—ì´ì „íŠ¸ í˜¸ì¶œ (s1~s30)
   â†“ ì™„ë£Œ ëŒ€ê¸°
   ë°°ì¹˜ 2: visual-review ì—ì´ì „íŠ¸ í˜¸ì¶œ (s31~s56) â† ìƒˆ ì»¨í…ìŠ¤íŠ¸
   ```
3. ì—ì´ì „íŠ¸ê°€ í•  ê²ƒ:
   - visual.json êµ¬ì¡°/objects/sequence/3D ê²€ì¦
   - ì˜¤ë¥˜ ìë™ ìˆ˜ì • ë˜ëŠ” ë³´ê³ 
   - "âœ… s{n} ê²€ì¦ ì™„ë£Œ" ì¶œë ¥
4. **ëª¨ë“  ë°°ì¹˜ ì™„ë£Œ í›„** state.json ì—…ë°ì´íŠ¸ (`current_phase: "visual_prompts_completed"`)

âœ… **Review ì „ì²´ ì™„ë£Œ í›„ Manim ì½”ë“œ ë‹¨ê³„ë¡œ ìë™ ì§„í–‰**

---

#### Visual Prompter ë°°ì¹˜ ì²˜ë¦¬ íë¦„ (56ì”¬ ì˜ˆì‹œ)

```
ğŸš€ 30ì”¬ ë°°ì¹˜ ë‹¨ìœ„ë¡œ ìë™ í˜¸ì¶œ!

Layout ë‹¨ê³„:
â”œâ”€â”€ visual-layout ì—ì´ì „íŠ¸ #1: s1~s30 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)
â””â”€â”€ visual-layout ì—ì´ì „íŠ¸ #2: s31~s56 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)

Animation ë‹¨ê³„:
â”œâ”€â”€ visual-animation ì—ì´ì „íŠ¸ #1: s1~s30 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)
â””â”€â”€ visual-animation ì—ì´ì „íŠ¸ #2: s31~s56 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)

Review ë‹¨ê³„:
â”œâ”€â”€ visual-review ì—ì´ì „íŠ¸ #1: s1~s30 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)
â””â”€â”€ visual-review ì—ì´ì „íŠ¸ #2: s31~s56 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)

ì´ 6íšŒ ì—ì´ì „íŠ¸ í˜¸ì¶œ (ê°ê° ë…ë¦½ ì»¨í…ìŠ¤íŠ¸)
â†’ ì—ì´ì „íŠ¸ ê³¼ë¶€í•˜ ì—†ì´ ì•ˆì •ì  ì²˜ë¦¬!
```

#### ì—ì´ì „íŠ¸ í˜¸ì¶œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

```
[Layout/Animation/Review] ì—ì´ì „íŠ¸ í˜¸ì¶œ ì‹œ:

"s{ì‹œì‘}ë¶€í„° s{ë}ê¹Œì§€ [Layout/Animation/Review] ì‘ì—…ì„ ìˆ˜í–‰í•˜ì„¸ìš”.

í”„ë¡œì íŠ¸: {project_id}
ì”¬ ë²”ìœ„: s{ì‹œì‘} ~ s{ë}
ì¶œë ¥ ê²½ë¡œ: output/{project_id}/3_visual_prompts/

skills/visual-prompter-[layout/animation/review].mdë¥¼ ì°¸ì¡°í•˜ì„¸ìš”."
```

> ğŸ’¡ **ìë™ ìƒì„±**: ì‚¬ìš©ì ìŠ¹ì¸ ì—†ì´ ìë™ ì§„í–‰. ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ "s3 ë¹„ì£¼ì–¼ ìˆ˜ì •" ëª…ë ¹ ì‚¬ìš©.
>
> ğŸ’¡ **ë°°ì¹˜ ì¥ì **: 30ì”¬ ë‹¨ìœ„ë¡œ ë¶„ë¦¬ë˜ì–´ ì—ì´ì „íŠ¸ê°€ ì•ˆì •ì ìœ¼ë¡œ ì‘ì—… ê°€ëŠ¥

âœ… **Visual Prompter ì™„ë£Œ í›„ Manim ì½”ë“œ ë‹¨ê³„ë¡œ ì§„í–‰**

---

### Step 5: Manim ì½”ë“œ ìƒì„±

> **Sub-agent ì‚¬ìš©**: `manim-coder` ì—ì´ì „íŠ¸ì—ê²Œ ì‘ì—… ìœ„ì„
> **ë°°ì¹˜ ë‹¨ìœ„**: 20ì”¬ì”© ìƒˆ ì—ì´ì „íŠ¸ í˜¸ì¶œ (ì½”ë“œ ìƒì„±ëŸ‰ì´ ë§ì•„ ë” ì‘ì€ ë°°ì¹˜)

Claudeê°€ í•  ê²ƒ:

1. **ì´ ì”¬ ìˆ˜ í™•ì¸** (state.jsonì˜ `scenes.total`)
2. **20ì”¬ ë‹¨ìœ„ë¡œ ë°°ì¹˜ ë¶„í• **:
   - ì˜ˆ: 56ì”¬ â†’ [s1-s20], [s21-s40], [s41-s56]
3. **ê° ë°°ì¹˜ë§ˆë‹¤ ìƒˆ `manim-coder` ì—ì´ì „íŠ¸ í˜¸ì¶œ**:
   ```
   ë°°ì¹˜ 1: manim-coder ì—ì´ì „íŠ¸ í˜¸ì¶œ (s1~s20)
   â†“ ì™„ë£Œ ëŒ€ê¸°
   ë°°ì¹˜ 2: manim-coder ì—ì´ì „íŠ¸ í˜¸ì¶œ (s21~s40) â† ìƒˆ ì»¨í…ìŠ¤íŠ¸
   â†“ ì™„ë£Œ ëŒ€ê¸°
   ë°°ì¹˜ 3: manim-coder ì—ì´ì „íŠ¸ í˜¸ì¶œ (s41~s56) â† ìƒˆ ì»¨í…ìŠ¤íŠ¸
   ```
4. ì—ì´ì „íŠ¸ê°€ í•  ê²ƒ:
   - `skills/manim-coder-reference.md` ì°¸ì¡°
   - `3_visual_prompts/s{n}_visual.json` ë¡œë“œ
   - `0_audio/s{n}_timing.json` ë¡œë“œ
   - JSONì„ Python ì½”ë“œë¡œ ë³€í™˜:
     - objects â†’ Mobject ìƒì„± ì½”ë“œ
     - sequence â†’ self.play() / self.wait() ì½”ë“œ
     - 3D ì”¬ì€ ThreeDScene ì‚¬ìš©, fixed_in_frame ì²˜ë¦¬
   - í•„ìˆ˜ ê·œì¹™ ì ìš©:
     - `MathTex(r"...")` - r-string
     - `Text("í•œê¸€", font="Noto Sans KR")`
     - `self.wait(n)  # wait_tag_s{ì”¬}_{ìˆœì„œ}`
     - ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ ì¤€ìˆ˜
     - **PNG ì—ì…‹ì€ ImageMobject + set_height() ì‚¬ìš©**
   - `output/{project_id}/4_manim_code/s{n}_manim.py` ì €ì¥
5. **ëª¨ë“  ë°°ì¹˜ ì™„ë£Œ í›„** state.json ì—…ë°ì´íŠ¸ (`current_phase: "manim_completed"`)

#### Manim ì½”ë“œ ë°°ì¹˜ ì²˜ë¦¬ íë¦„ (56ì”¬ ì˜ˆì‹œ)

```
ğŸš€ 20ì”¬ ë°°ì¹˜ ë‹¨ìœ„ë¡œ ìë™ í˜¸ì¶œ! (ì½”ë“œ ìƒì„±ëŸ‰ì´ ë§ì•„ ë” ì‘ì€ ë°°ì¹˜)

Manim ì½”ë“œ ìƒì„±:
â”œâ”€â”€ manim-coder ì—ì´ì „íŠ¸ #1: s1~s20 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)
â”œâ”€â”€ manim-coder ì—ì´ì „íŠ¸ #2: s21~s40 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)
â””â”€â”€ manim-coder ì—ì´ì „íŠ¸ #3: s41~s56 (ìƒˆ ì»¨í…ìŠ¤íŠ¸)

ì´ 3íšŒ ì—ì´ì „íŠ¸ í˜¸ì¶œ (ê°ê° ë…ë¦½ ì»¨í…ìŠ¤íŠ¸)
â†’ ì—ì´ì „íŠ¸ ê³¼ë¶€í•˜ ì—†ì´ ì•ˆì •ì  ì²˜ë¦¬!
```

#### ì—ì´ì „íŠ¸ í˜¸ì¶œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

```
manim-coder ì—ì´ì „íŠ¸ í˜¸ì¶œ ì‹œ:

"s{ì‹œì‘}ë¶€í„° s{ë}ê¹Œì§€ Manim ì½”ë“œë¥¼ ìƒì„±í•˜ì„¸ìš”.

í”„ë¡œì íŠ¸: {project_id}
ì”¬ ë²”ìœ„: s{ì‹œì‘} ~ s{ë}
ì…ë ¥: 3_visual_prompts/s{n}_visual.json
ì¶œë ¥: 4_manim_code/s{n}_manim.py

skills/manim-coder-reference.mdë¥¼ ì°¸ì¡°í•˜ì„¸ìš”."
```

> ğŸ’¡ **ë°°ì¹˜ ì²˜ë¦¬ ì¥ì **: ì—ì´ì „íŠ¸ê°€ 20ì”¬ë§Œ ì²˜ë¦¬í•˜ë¯€ë¡œ ì»¨í…ìŠ¤íŠ¸ ê³¼ë¶€í•˜ ì—†ìŒ
> â†’ ì½”ë“œ ìƒì„±ëŸ‰ì´ ë§ì•„ë„ ì•ˆì •ì  ì²˜ë¦¬

âœ… **Manim ì½”ë“œ ì „ì²´ ì™„ë£Œ í›„ ë°°ê²½ ì´ë¯¸ì§€ ë‹¨ê³„ë¡œ ì§„í–‰**

#### í•„ìˆ˜ ì½”ë“œ ê·œì¹™

```python
# 1. MathTex - r-string í•„ìˆ˜
MathTex(r"\frac{a}{b}")  # âœ…
MathTex("\frac{a}{b}")   # âŒ

# 2. í•œê¸€ Text - í°íŠ¸ í•„ìˆ˜
Text("ì•ˆë…•", font="Noto Sans KR")  # âœ…
Text("ì•ˆë…•")  # âŒ

# 3. wait() - íƒœê·¸ í•„ìˆ˜
self.wait(1.5)  # wait_tag_s1_1 âœ…
self.wait(1.5)  # âŒ

# 4. PNG ì—ì…‹ - set_height() í•„ìˆ˜
stickman = ImageMobject("assets/characters/stickman.png")
stickman.set_height(4)  # âœ…

# 5. 3D ì”¬ - ThreeDScene + fixed_in_frame
class S5Scene(ThreeDScene):
    def construct(self):
        self.add_fixed_in_frame_mobjects(title)  # í…ìŠ¤íŠ¸ëŠ” fixed
```

**ì¶œë ¥ íŒŒì¼**: `4_manim_code/s{n}_manim.py`

ëª¨ë“  ì”¬ ì™„ë£Œ í›„ â†’ "ëª¨ë“  Manim ì½”ë“œ ìƒì„± ì™„ë£Œ!" ì•Œë¦¼

âœ… **ì™„ë£Œ í›„ state.json**: `current_phase: "manim_completed"`

---

### Step 5.1: ì½”ë“œ ê²€ì¦

> Step 5 ì™„ë£Œ í›„ ìë™ìœ¼ë¡œ ê²€ì¦ ìˆ˜í–‰

```bash
# ê²€ì¦ ìë™í™” (ì¶”í›„ êµ¬í˜„ ì˜ˆì •)
python math_video_pipeline.py validate-all
```

**ê²€ì¦ í•­ëª©**:
- MathTex r-string, ì¤‘ê´„í˜¸ ì§, í•œê¸€ í°íŠ¸
- Transform íƒ€ê²Ÿ ì¡´ì¬, 3D Scene í´ë˜ìŠ¤ ì¼ì¹˜
- wait() íƒœê·¸, TTS ê¸¸ì´ vs ì• ë‹ˆë©”ì´ì…˜ ê¸¸ì´

âœ… **ì™„ë£Œ í›„ state.json**: `current_phase: "manim_validated"`

### Step 5.5: ë°°ê²½ ì´ë¯¸ì§€ ìƒì„± (ì™¸ë¶€ ì‘ì—…)

Claudeê°€ í•  ê²ƒ:

1. "ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ë¥¼ ë‚´ë³´ëƒ…ë‹ˆë‹¤."
2. `python math_video_pipeline.py prompts-export` ì‹¤í–‰
3. ì‚¬ìš©ìì—ê²Œ ì•ˆë‚´:
   - `6_image_prompts/prompts_batch.txt` íŒŒì¼ í™•ì¸
   - Midjourney, DALL-E, Leonardo ë“±ì—ì„œ ì´ë¯¸ì§€ ìƒì„±
   - ìƒì„±ëœ ì´ë¯¸ì§€ë¥¼ `9_backgrounds/` í´ë”ì— ì €ì¥
   - íŒŒì¼ëª… ê·œì¹™: `s1_bg.png`, `s2_bg.png`, ...

ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ ì¤€ë¹„ í›„:

1. `python math_video_pipeline.py images-check` ë¡œ ê²€ì¦
2. ë˜ëŠ” `python math_video_pipeline.py images-import --source "ë‹¤ìš´ë¡œë“œí´ë”"` ë¡œ ì¼ê´„ ê°€ì ¸ì˜¤ê¸°
3. **state.json ì—…ë°ì´íŠ¸**: `current_phase: "images_ready"`, `files.images[]` ë°°ì—´ ì €ì¥

âœ… **ì´ ì‹œì ì—ì„œ `/clear` ê°€ëŠ¥**

---

### Step 6: Manim ë Œë”ë§

Claudeê°€ í•  ê²ƒ:

1. "ë Œë”ë§ì„ ì‹œì‘í• ê¹Œìš”?" ë¬¼ì–´ë³´ê¸°
2. ìŠ¹ì¸ ì‹œ â†’ `python math_video_pipeline.py render-all` ì‹¤í–‰
3. **ìë™ ì²˜ë¦¬ë¨**:
   - ë Œë”ë§ ì™„ë£Œ í›„ `media/videos/`ì—ì„œ `8_renders/`ë¡œ ìë™ ìˆ˜ì§‘
   - `state.json` ìë™ ì—…ë°ì´íŠ¸ (`current_phase: "rendered"`, `files.renders[]`)
4. **ë Œë”ë§ ì™„ë£Œ í›„ Claudeê°€ ë°˜ë“œì‹œ ì•ˆë‚´**:
   - "âœ… ë Œë”ë§ ì™„ë£Œ! {N}ê°œ ì”¬ì´ `8_renders/`ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤."
   - "ë‹¤ìŒ ë‹¨ê³„: ìë§‰ ìƒì„± (`python math_video_pipeline.py subtitle-generate`)"
   - ì‚¬ìš©ìì—ê²Œ ë‹¤ìŒ ì§„í–‰ ì—¬ë¶€ í™•ì¸

> ğŸ’¡ **ì°¸ê³ **: ìˆ˜ë™ ìˆ˜ì§‘ì´ í•„ìš”í•˜ë©´ `python math_video_pipeline.py render-collect` ì‹¤í–‰
>
> âš ï¸ **Manim ì¶œë ¥ ê²½ë¡œ**:
> - ì›ë³¸ ì¶œë ¥: `media/videos/{scene_id}_manim/{í’ˆì§ˆí´ë”}/` (ì˜ˆ: 480p15, 1080p60)
> - ìˆ˜ì§‘ í›„: `output/{project_id}/8_renders/s1.mov`, `s2.mov`, ...

âœ… **ì´ ì‹œì ì—ì„œ `/clear` ê°€ëŠ¥**

---

### Step 7: ìë§‰ ìƒì„± ë° ìµœì¢… í•©ì„±

Claudeê°€ í•  ê²ƒ:

1. SRT ìë§‰ íŒŒì¼ ìƒì„±
   â†’ `python math_video_pipeline.py subtitle-generate`
   â†’ `7_subtitles/` í´ë”ì— `s1.srt`, `s2.srt`, ... ìƒì„±

2. ì”¬ë³„ ìµœì¢… í•©ì„± (ë°°ê²½ + Manim + ì˜¤ë””ì˜¤ + ìë§‰)
   â†’ `python math_video_pipeline.py compose-all`
   â†’ FFmpegë¡œ ê° ì”¬ í•©ì„±: ë°°ê²½ ì´ë¯¸ì§€ + Manim ì• ë‹ˆë©”ì´ì…˜ + TTS ì˜¤ë””ì˜¤ + SRT ìë§‰

3. ì „ì²´ ì˜ìƒ ë³‘í•©
   â†’ `python math_video_pipeline.py merge-final`
   â†’ `final_video.mp4` ìƒì„±

4. **state.json ì—…ë°ì´íŠ¸**: `current_phase: "completed"`

---

## ğŸ”„ /clear ê°€ëŠ¥ ì§€ì  (Sub-agents ë„ì… í›„)

> ğŸš€ **Sub-agents ë„ì…ìœ¼ë¡œ /clear íšŸìˆ˜ ëŒ€í­ ê°ì†Œ!**
> ì—ì´ì „íŠ¸ê°€ ë³„ë„ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰ë˜ì–´ ë©”ì¸ ëŒ€í™” ì˜¤ì—¼ ìµœì†Œí™”

### /clear ê°€ëŠ¥ ì§€ì  ìš”ì•½

| ì§€ì    | íƒ€ì´ë°                     | ì €ì¥ëœ íŒŒì¼                       | state.json phase         | ì¬ê°œ ëª…ë ¹ |
| ------ | -------------------------- | --------------------------------- | ------------------------ | --------- |
| #2     | ëŒ€ë³¸ ìŠ¹ì¸ í›„               | `1_script/*.json`                 | script_approved          | "ê³„ì†" |
| #3     | ì”¬ ë¶„í• +ë‚˜ë ˆì´ì…˜ ì™„ë£Œ í›„   | `2_scenes/s#.json` (ë‚˜ë ˆì´ì…˜ í¬í•¨) | scenes_completed         | "ê³„ì†" |
| #3.5   | ì—ì…‹ ì²´í¬ ì™„ë£Œ í›„          | `assets/` í´ë” PNG íŒŒì¼ë“¤         | assets_checked           | "ê³„ì†" |
| #4     | TTS ìƒì„± ì™„ë£Œ í›„           | `0_audio/*.mp3, *.json`           | tts_completed            | "ê³„ì†" |
| #4.5   | **Visual Prompter ì „ì²´ ì™„ë£Œ** | ëª¨ë“  `*_visual.json`           | visual_prompts_completed | "ê³„ì†" |
| #5     | **Manim ì½”ë“œ ì „ì²´ ì™„ë£Œ**   | ëª¨ë“  `_manim.py`                  | manim_completed          | "ê³„ì†" |
| #5.1   | ì½”ë“œ ê²€ì¦ ì™„ë£Œ í›„          | ëª¨ë“  `_manim.py` ê²€ì¦ë¨           | manim_validated          | "ê³„ì†" |
| #5.5   | ì´ë¯¸ì§€ ì¤€ë¹„ ì™„ë£Œ í›„        | `9_backgrounds/*.png`             | images_ready             | "ë Œë”ë§" |
| #6     | Manim ë Œë”ë§ ì™„ë£Œ í›„       | `8_renders/*.mp4`                 | rendered                 | "ìë§‰ ìƒì„±" |

> ğŸ’¡ **ë³€ê²½ ì‚¬í•­**:
> - Step 3ì—ì„œ ì”¬ ë¶„í•  + ë‚˜ë ˆì´ì…˜ ë³€í™˜ì„ ë™ì‹œ ì²˜ë¦¬ (ê¸°ì¡´ Step 3.1 í†µí•©)
> - Scene Directorê°€ 3ê°œ sub-agentë¡œ ë¶„ë¦¬ë˜ì–´ ì„¹ì…˜ë³„ ë³‘ë ¬ ì²˜ë¦¬

### âš ï¸ /clear ê¸ˆì§€ êµ¬ê°„

| êµ¬ê°„                     | ì´ìœ                    |
| ------------------------ | ---------------------- |
| ëŒ€ë³¸ ì‘ì„± **ì¤‘**         | ìŠ¹ì¸ ì „ì´ë¼ ì €ì¥ ì•ˆ ë¨ |
| ì”¬ ë¶„í•  **ì¤‘**           | ì—ì´ì „íŠ¸ ì™„ë£Œ ì „       |
| ì—ì…‹ ì²´í¬ **ì¤‘**         | í™•ì¸ ì™„ë£Œ ì „           |
| TTS ìƒì„± **ì¤‘**          | API í˜¸ì¶œ ì¤‘ë‹¨ë¨        |

> ğŸ’¡ **Sub-agents ì‹¤í–‰ ì¤‘**: ì—ì´ì „íŠ¸ê°€ ë³„ë„ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ
> ë©”ì¸ ëŒ€í™”ì—ì„œëŠ” ì—ì´ì „íŠ¸ ì™„ë£Œë¥¼ ê¸°ë‹¤ë¦¬ë©´ ë¨ (ì»¨í…ìŠ¤íŠ¸ ì˜¤ì—¼ ì—†ìŒ)

### /clear í›„ ì¬ê°œ ë°©ë²•

```
ì‚¬ìš©ì: "ê³„ì†" ë˜ëŠ” "ìƒíƒœ"
Claude: state.json ì½ê³  í˜„ì¬ ë‹¨ê³„ íŒŒì•… â†’ ì´ì–´ì„œ ì§„í–‰
```

### ê¶Œì¥ ì›Œí¬í”Œë¡œìš° (ë°°ì¹˜ ì²˜ë¦¬, 56ì”¬ ê¸°ì¤€)

```
ğŸš€ ë°°ì¹˜ ë‹¨ìœ„ ìë™ í˜¸ì¶œë¡œ ì•ˆì •ì„± í–¥ìƒ!

ì¤€ë¹„ ë‹¨ê³„:
â”œâ”€â”€ ì„¸ì…˜ 1: ì‹œì‘ â†’ ëŒ€ë³¸ ìŠ¹ì¸ â†’ /clear (ì„ íƒ)
â”œâ”€â”€ ì„¸ì…˜ 2: ì”¬ ë¶„í•  + ì—ì…‹ ì„¤ê³„ â†’ ì—ì…‹ ì²´í¬ â†’ /clear (ì„ íƒ)
â””â”€â”€ ì„¸ì…˜ 3: TTS ìƒì„± ì™„ë£Œ

ì”¬ ë¶„í•  + ì—ì…‹ ì„¤ê³„ (6ê°œ ì—ì´ì „íŠ¸ ìˆœì°¨ í˜¸ì¶œ):
â”œâ”€â”€ [Hook+ë¶„ì„]   scene-director-hook â†’ asset-designer-hook
â”œâ”€â”€ [í•µì‹¬ìˆ˜í•™]    scene-director-core â†’ asset-designer-core
â”œâ”€â”€ [ì ìš©+ì•„ì›ƒíŠ¸ë¡œ] scene-director-outro â†’ asset-designer-outro
â””â”€â”€ merge-scenes

Visual Prompter (30ì”¬ ë°°ì¹˜ ìë™ í˜¸ì¶œ):
â”œâ”€â”€ Layout:    ì—ì´ì „íŠ¸ #1 (s1~s30) â†’ #2 (s31~s56)
â”œâ”€â”€ Animation: ì—ì´ì „íŠ¸ #1 (s1~s30) â†’ #2 (s31~s56)
â””â”€â”€ Review:    ì—ì´ì „íŠ¸ #1 (s1~s30) â†’ #2 (s31~s56)

Manim ì½”ë“œ (20ì”¬ ë°°ì¹˜ ìë™ í˜¸ì¶œ):
â””â”€â”€ manim-coder: ì—ì´ì „íŠ¸ #1 (s1~s20) â†’ #2 (s21~s40) â†’ #3 (s41~s56)

ë§ˆë¬´ë¦¬:
â””â”€â”€ ë Œë”ë§ â†’ ìë§‰ â†’ í•©ì„± â†’ ì™„ë£Œ

ğŸ“Š ì—ì´ì „íŠ¸ í˜¸ì¶œ íšŸìˆ˜: 15íšŒ
   - Scene Director: 3íšŒ
   - Asset Designer: 3íšŒ
   - Visual Prompter: 6íšŒ (30ì”¬ Ã— 2ë°°ì¹˜ Ã— 3ë‹¨ê³„)
   - Manim Coder: 3íšŒ (20ì”¬ Ã— 3ë°°ì¹˜)
â†’ ì—ì´ì „íŠ¸ ê³¼ë¶€í•˜ ì—†ì´ ì•ˆì •ì  ì²˜ë¦¬!
```

---

## ğŸ“Š state.json êµ¬ì¡°

```json
{
  "project_id": "P20250615_143000",
  "title": "í”¼íƒ€ê³ ë¼ìŠ¤ ì •ë¦¬",
  "current_phase": "visual_layout_in_progress",
  "settings": {
    "style": "cyberpunk",
    "difficulty": "intermediate",
    "duration": 300,
    "aspect_ratio": "16:9",
    "voice": "ash"
  },
  "scenes": {
    "total": 56,
    "completed": [],
    "pending": ["s1", "s2", "...", "s56"],
    "current": null
  },
  "batch_progress": {
    "stage": "visual_layout",
    "batch_size": 30,
    "current_batch": 1,
    "total_batches": 2,
    "completed_batches": [],
    "batch_ranges": [
      {"batch": 1, "start": "s1", "end": "s30", "status": "in_progress"},
      {"batch": 2, "start": "s31", "end": "s56", "status": "pending"}
    ]
  },
  "files": {
    "script": "output/P20250615_143000/1_script/reading_script.json",
    "scenes": "output/P20250615_143000/2_scenes/scenes.json",
    "visual_layouts": ["s1_layout.json", "...", "s30_layout.json"],
    "visual_prompts": [],
    "audio": ["s1.mp3", "...", "s56.mp3"],
    "manim": []
  },
  "assets": {
    "required": ["characters/stickman_confused.png", "objects/snack_bag.png"],
    "available": ["characters/stickman_confused.png", "objects/snack_bag.png"],
    "missing": []
  },
  "last_updated": "2025-06-15T14:35:00"
}
```

### state.json ìë™ ì—…ë°ì´íŠ¸ ê·œì¹™ (ë°°ì¹˜ ì²˜ë¦¬)

| ë‹¨ê³„ ì™„ë£Œ  | current_phase                  | ì£¼ìš” ì—…ë°ì´íŠ¸                                       |
| ---------- | ------------------------------ | --------------------------------------------------- |
| Step 2     | script_approved                | files.script                                        |
| Step 3     | scenes_completed               | files.scenes, scenes.total/pending, assets.required |
| Step 3.5   | assets_checked                 | assets.available, assets.missing=[]                 |
| Step 4     | tts_completed                  | files.audio[]                                       |
| Step 4.5a (ë°°ì¹˜ë³„) | visual_layout_in_progress | batch_progress ì—…ë°ì´íŠ¸                          |
| Step 4.5b (ë°°ì¹˜ë³„) | visual_animation_in_progress | batch_progress ì—…ë°ì´íŠ¸                       |
| Step 4.5c (ë°°ì¹˜ë³„) | visual_review_in_progress | batch_progress ì—…ë°ì´íŠ¸                          |
| **Step 4.5 (ì „ì²´ì™„ë£Œ)** | visual_prompts_completed | files.visual_prompts[] ì „ì²´                    |
| **Step 5 (ë°°ì¹˜ë³„)** | manim_coding | batch_progress ì—…ë°ì´íŠ¸                               |
| **Step 5 (ì „ì²´ì™„ë£Œ)** | manim_completed | files.manim[] ì „ì²´                                 |
| Step 5.5   | images_ready                   | files.images[]                                      |
| Step 6     | rendered                       | -                                                   |
| Step 7     | completed                      | files.final_video                                   |

### ğŸ’¡ ë°°ì¹˜ ì²˜ë¦¬ì™€ state.json

> **ë°°ì¹˜ í¬ê¸° (ë‹¨ê³„ë³„ ë‹¤ë¦„)**:
> - Visual Prompter (Layout/Animation/Review): **30ì”¬**
> - Manim Coder: **20ì”¬** (ì½”ë“œ ìƒì„±ëŸ‰ì´ ë§ì•„ ë” ì‘ì€ ë°°ì¹˜)

> **ë°°ì¹˜ ì²˜ë¦¬ ì‹œ ì§„í–‰ ìƒíƒœ ì¶”ì **:
> - `batch_progress.stage`: í˜„ì¬ ë‹¨ê³„ (visual_layout/visual_animation/visual_review/manim)
> - `batch_progress.batch_size`: í˜„ì¬ ë‹¨ê³„ì˜ ë°°ì¹˜ í¬ê¸° (30 ë˜ëŠ” 20)
> - `batch_progress.current_batch`: í˜„ì¬ ë°°ì¹˜ ë²ˆí˜¸
> - `batch_progress.batch_ranges[].status`: pending/in_progress/completed

**ë°°ì¹˜ ì§„í–‰ ì¤‘ state.json ì˜ˆì‹œ:**
```json
{
  "current_phase": "visual_layout_in_progress",
  "batch_progress": {
    "stage": "visual_layout",
    "current_batch": 2,
    "batch_ranges": [
      {"batch": 1, "start": "s1", "end": "s30", "status": "completed"},
      {"batch": 2, "start": "s31", "end": "s56", "status": "in_progress"}
    ]
  }
}
```

**ë‹¨ê³„ ì „ì²´ ì™„ë£Œ í›„:**
```json
{
  "current_phase": "visual_prompts_completed",
  "batch_progress": null,
  "files": {
    "visual_prompts": ["s1_visual.json", ..., "s56_visual.json"]
  }
}
```

---

## ğŸ¨ ì—ì…‹(Asset) ì‹œìŠ¤í…œ

### ì—ì…‹ í´ë” ìœ„ì¹˜

**ì¤‘ìš”:** ì—ì…‹ì€ í”„ë¡œì íŠ¸ë³„ì´ ì•„ë‹Œ **ë£¨íŠ¸ ë ˆë²¨**ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.
â†’ ëª¨ë“  í”„ë¡œì íŠ¸ì—ì„œ ê³µìš©ìœ¼ë¡œ ì‚¬ìš©

```
Math-Video-Maker/
â”œâ”€â”€ assets/                    â† ğŸ”¥ ë£¨íŠ¸ ë ˆë²¨ (ëª¨ë“  í”„ë¡œì íŠ¸ ê³µìš©)
â”‚   â”œâ”€â”€ characters/
â”‚   â”œâ”€â”€ objects/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ metaphors/
â”‚
â””â”€â”€ output/
    â””â”€â”€ {project_id}/          â† í”„ë¡œì íŠ¸ë³„ ì¶œë ¥ë¬¼
```

### ì—ì…‹ì´ í•„ìš”í•œ ê²½ìš°

| êµ¬ë¶„              | Manimìœ¼ë¡œ ê·¸ë¦¬ê¸° âœ…       | PNG ì—ì…‹ ì‚¬ìš© âœ…    |
| ----------------- | ------------------------- | ------------------- |
| ìˆ˜ì‹              | `MathTex(r"x^2")`         | -                   |
| ê·¸ë˜í”„            | `axes.plot(...)`          | -                   |
| ê¸°ë³¸ ë„í˜•         | `Circle()`, `Rectangle()` | -                   |
| í™”ì‚´í‘œ            | `Arrow()`, `Vector()`     | -                   |
| **ìºë¦­í„°**        | âŒ ì´ìƒí•˜ê²Œ ë‚˜ì˜´          | `stickman_*.png`    |
| **ì‹¤ë¬¼ ë¬¼ì²´**     | âŒ ì´ìƒí•˜ê²Œ ë‚˜ì˜´          | `snack_bag.png`     |
| **ë³µì¡í•œ ì•„ì´ì½˜** | âŒ                        | `question_mark.png` |

### ì—ì…‹ í´ë” êµ¬ì¡°

```
assets/                  â† ë£¨íŠ¸ ë ˆë²¨ (ëª¨ë“  í”„ë¡œì íŠ¸ ê³µìš©)
â”œâ”€â”€ characters/          # stickman_*.png (ìºë¦­í„°)
â”œâ”€â”€ objects/             # ë¬¼ì²´ PNG
â”œâ”€â”€ icons/               # ì•„ì´ì½˜ PNG
â””â”€â”€ metaphors/           # ì€ìœ /ë¹„ìœ  PNG
```

### ì—ì…‹ íŒŒì¼ ì‚¬ì–‘

- í•´ìƒë„: 500x500px+, PNG íˆ¬ëª…ë°°ê²½
- íŒŒì¼ëª…: `{ì´ë¦„}_{ìƒíƒœ}.png` (ì˜ˆ: stickman_happy.png)
- **ìƒì„¸ ëª©ë¡**: `skills/asset-catalog.md` ì°¸ì¡° (Supabaseì—ì„œ ìë™ ìƒì„±)

---

## âš ï¸ Manim í•„ìˆ˜ ê·œì¹™

```python
# 1. MathTex - r-string í•„ìˆ˜
MathTex(r"\frac{a}{b}")  # âœ…
MathTex("\frac{a}{b}")   # âŒ

# 2. í•œê¸€ Text - í°íŠ¸ í•„ìˆ˜
Text("ì•ˆë…•", font="Noto Sans KR")  # âœ…
Text("ì•ˆë…•")  # âŒ

# 3. wait() - íƒœê·¸ í•„ìˆ˜
self.wait(1.5)  # wait_tag_s1_1 âœ…
self.wait(1.5)  # âŒ

# 4. ìˆ˜ì‹ ê°€ë…ì„±
equation.set_stroke(width=8, background=True)  # ê·¸ë¦¼ì
equation.add_background_rectangle()  # ë°°ê²½

# 5. PNG ì—ì…‹ ì‚¬ìš© (ìºë¦­í„°/ë¬¼ì²´) - ë£¨íŠ¸ assets í´ë”ì—ì„œ ë¡œë“œ
STICKMAN_HEIGHT = 4  # ê¸°ì¤€ ë†’ì´ (í•„ìˆ˜!)

stickman = ImageMobject("assets/characters/stickman_confused.png")
stickman.set_height(STICKMAN_HEIGHT).shift(LEFT*3)

snack = ImageMobject("assets/objects/snack_bag.png")
snack.set_height(STICKMAN_HEIGHT * 0.30).next_to(stickman, RIGHT)

# 6. 3D ì”¬ì—ì„œ í…ìŠ¤íŠ¸
# ThreeDSceneì—ì„œ Text/MathTexëŠ” ë°˜ë“œì‹œ fixed_in_frame ì²˜ë¦¬
self.add_fixed_in_frame_mobjects(title)

# 7. ê·¸ë˜í”„ (Axes) - ğŸ”´ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
# ê·¸ë˜í”„ë¥¼ ê·¸ë¦´ ë•Œ ë°˜ë“œì‹œ ì•„ë˜ ëª¨ë“  ìš”ì†Œ í¬í•¨!
axes = Axes(x_range=[0,10,2], y_range=[0,10,2], ...)

# (1) ì¶• ë ˆì´ë¸” - í•„ìˆ˜! (ê¸°í˜¸ ì‚¬ìš©, í•œê¸€ë§Œ X)
# âœ… "P" ë˜ëŠ” "ê°€ê²©(P)" / âŒ "ê°€ê²©" (í•œê¸€ë§Œ ì•ˆë¨!)
y_label = MathTex("P", font_size=28)  # ê¸°í˜¸
x_label = MathTex("Q", font_size=28)  # ê¸°í˜¸
y_label.next_to(axes.y_axis, UP, buff=0.1)
x_label.next_to(axes.x_axis, RIGHT, buff=0.1)

# (2) ê³¡ì„  ë ˆì´ë¸” - í•„ìˆ˜! (ê³¡ì„  ëì— ì‘ê²Œ)
mr_label = Text("MR", font_size=20, color=GREEN)
mr_label.next_to(mr_curve.get_end(), UR, buff=0.1)

# (3) êµì°¨ì  - ì‹¤ì œ ì¢Œí‘œ ê³„ì‚° í•„ìˆ˜!
# âŒ ëŒ€ì¶© ì°ê¸°: Dot(axes.c2p(3, 2))
# âœ… ê³„ì‚° í›„ ì°ê¸°: x=5.6 (MR=MC í•´ êµ¬í•˜ê¸°), Dot(axes.c2p(5.6, 5.2))
```

---

## ğŸ¨ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸

### ê¸°ë³¸ ìˆ˜í•™ìš©

| ìš©ë„        | ìƒ‰ìƒ   | ì‚¬ìš© ì˜ˆì‹œ                    |
| ----------- | ------ | ---------------------------- |
| ë³€ìˆ˜ (x, y) | YELLOW | `MathTex("x", color=YELLOW)` |
| ìƒìˆ˜        | ORANGE | `MathTex("3", color=ORANGE)` |
| ê²°ê³¼/ë‹µ     | GREEN  | `MathTex("=5", color=GREEN)` |
| ê°•ì¡°        | RED    | `Indicate(eq, color=RED)`    |
| ë³´ì¡°ì„       | GRAY_B | `axes.set_color(GRAY_B)`     |

### ê²½ì œí•™/ë¹„ì¦ˆë‹ˆìŠ¤ Visual Coding

> ì˜ìƒ ì „ì²´ì—ì„œ ë™ì¼ ê°œë…ì€ ë™ì¼ ìƒ‰ìƒìœ¼ë¡œ ì¼ê´€ì„± ìœ ì§€

| ê°œë… | ê¸°í˜¸ | ìƒ‰ìƒ | HEX | Manim |
| ---- | ---- | ---- | --- | ----- |
| ê°€ê²© (Price) | P | íŒŒë€ìƒ‰ | #58C4DD | `BLUE` ë˜ëŠ” `"#58C4DD"` |
| ìˆ˜ëŸ‰ (Quantity) | Q | ë…¸ë€ìƒ‰ | #EEEEEE | `YELLOW` ë˜ëŠ” `"#EEEEEE"` |
| ì´ìœ¤ (Profit) | Î  | ì´ˆë¡ìƒ‰ | #83C167 | `GREEN` ë˜ëŠ” `"#83C167"` |
| íƒ„ë ¥ì„± (Elasticity) | E_d | ë¶„í™ìƒ‰ | #FC6255 | `RED` ë˜ëŠ” `"#FC6255"` |
| ë¹„ìš© (Cost) | C | íšŒìƒ‰ | #888888 | `GRAY` |
| í•œê³„ìˆ˜ì… (MR) | MR | ì²­ë¡ìƒ‰ | #00CED1 | `"#00CED1"` |
| í•œê³„ë¹„ìš© (MC) | MC | ì£¼í™©ìƒ‰ | #FFA500 | `ORANGE` |

```python
# ì˜ˆì‹œ: ì´ìœ¤ ê·¹ëŒ€í™” ì¡°ê±´
profit_eq = MathTex(r"\Pi", r"=", r"P", r"\cdot", r"Q", r"-", r"C")
profit_eq[0].set_color("#83C167")  # Î  ì´ˆë¡
profit_eq[2].set_color("#58C4DD")  # P íŒŒë‘
profit_eq[4].set_color("#EEEEEE")  # Q ë…¸ë‘
profit_eq[6].set_color("#888888")  # C íšŒìƒ‰
```

---

## ğŸ¨ ìŠ¤íƒ€ì¼ë³„ ì„¤ì •

### ìŠ¤íƒ€ì¼-ìƒ‰ìƒ ë§¤í•‘í‘œ

| ìŠ¤íƒ€ì¼    | ë°°ê²½ íƒ€ì… | text_color_mode | ë°°ê²½ ìƒ‰ìƒ | Manim í…ìŠ¤íŠ¸ ìƒ‰ìƒ |
| --------- | --------- | --------------- | --------- | ----------------- |
| minimal   | ì–´ë‘ìš´    | **light**       | #000000   | WHITE, YELLOW     |
| cyberpunk | ì–´ë‘ìš´    | **light**       | #0a0a0a   | CYAN, MAGENTA     |
| space     | ì–´ë‘ìš´    | **light**       | #000011   | WHITE, BLUE       |
| geometric | ì–´ë‘ìš´    | **light**       | #1a1a1a   | GOLD, YELLOW      |
| stickman  | ì–´ë‘ìš´    | **light**       | #1a2a3a   | WHITE, YELLOW     |
| **paper** | **ë°ì€**  | **dark**        | #f5f5dc   | BLACK, DARK_BLUE  |

> `text_color_mode`: light=ì–´ë‘ìš´ë°°ê²½â†’ë°ì€í…ìŠ¤íŠ¸, dark=ë°ì€ë°°ê²½â†’ì–´ë‘ìš´í…ìŠ¤íŠ¸
>
> **cyberpunk/space**: ê¸€ë¡œìš° íš¨ê³¼ ì ìš© (`set_stroke width=15, opacity=0.3`)
> **stickman**: ìºë¦­í„°ëŠ” PNG ì—ì…‹ ì‚¬ìš© (ì½”ë“œë¡œ ê·¸ë¦¬ì§€ ì•ŠìŒ)

---

## ğŸ¤ TTS ìŒì„± ì˜µì…˜ (OpenAI gpt-4o-mini-tts)

| ìŒì„±    | íŠ¹ì§•                | ì¶”ì²œ ìš©ë„              |
| ------- | ------------------- | ---------------------- |
| **ash** | ì°¨ë¶„í•œ ë‚¨ì„±         | ìˆ˜í•™ êµìœ¡ **(ê¸°ë³¸ê°’)** |
| nova    | ì—¬ì„±ì , ë°ê³  ì¹œê·¼   | ì¹œê·¼í•œ ë¶„ìœ„ê¸°          |
| onyx    | ë‚¨ì„±ì , ê¹Šì€ ëª©ì†Œë¦¬ | ê¶Œìœ„ìˆëŠ” ì„¤ëª…          |

> ì „ì²´ ìŒì„± ëª©ë¡: https://platform.openai.com/docs/guides/text-to-speech

### ë¹„ìš© (ìœ ë£Œ)

| í•­ëª©            | ë¹„ìš©                    |
| --------------- | ----------------------- |
| gpt-4o-mini-tts | $0.60 / 1M ê¸€ì (ì €ë ´!) |
| Whisper         | $0.006 / ë¶„             |

**ì˜ˆì‹œ**: 10ë¶„ ì˜ìƒ â‰ˆ $0.06 (TTS + Whisper)

### TTS ì‰¼(Pause) ê·œì¹™

ì‰¼í‘œ(,)=ì§§ì€ ì‰¼, ë§ˆì¹¨í‘œ(.)=ë³´í†µ ì‰¼, ì¤„ì„í‘œ(...)=ê¸´ ì‰¼

---

## ğŸ“ ë‚˜ë ˆì´ì…˜ ì²´ê³„ (ì”¬ JSON í†µí•©)

> **Sub-agents ë„ì… í›„**: Scene Directorê°€ ë‚˜ë ˆì´ì…˜ 3ì¢…ì„ ëª¨ë‘ ì‘ì„±í•˜ì—¬ `s#.json`ì— í†µí•©

### íŒŒì¼ êµ¬ì¡°

| íŒŒì¼ | ë‹´ë‹¹ | ë‚´ìš© |
|------|------|------|
| `2_scenes/s#.json` | Scene Director | ë‚˜ë ˆì´ì…˜ 3ì¢… ëª¨ë‘ í¬í•¨ |

> âš ï¸ `2_narration/` í´ë”ëŠ” ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

### ë‚˜ë ˆì´ì…˜ 3ì¢… í•„ë“œ

| í•„ë“œ | ìš©ë„ | ì˜ˆì‹œ | ì €ì¥ ìœ„ì¹˜ |
|------|------|------|-----------|
| narration_display | ëŒ€ë³¸ ì›ë¬¸ | 9Ã—9 = 81 | s#.json |
| subtitle_display | ìë§‰ (ë¶„í• ) | 9Ã—9 = 81 | s#.json |
| narration_tts | TTS ìŒì„± | êµ¬ ê³±í•˜ê¸° êµ¬ëŠ” íŒ”ì‹­ì¼ | s#.json |

### ì›Œí¬í”Œë¡œìš°

| ë‹¨ê³„ | ë‹´ë‹¹ì | ì—­í•  |
|------|--------|------|
| Step 3 | Scene Director (3ê°œ ì—ì´ì „íŠ¸) | ë‚˜ë ˆì´ì…˜ 3ì¢… ë™ì‹œ ì‘ì„± |
| Step 4+ | Pipeline | `s#.json`ì—ì„œ ì½ì–´ TTS/ìë§‰ ìƒì„± |

### ì˜ˆì‹œ

**s1.json** (Scene Director ì¶œë ¥):
```json
{
  "scene_id": "s1",
  "section": "Hook",
  "duration": 12,

  "narration_display": "V(s, t)ëŠ” í˜„ì¬ ìƒíƒœì—ì„œì˜ ê¸°ëŒ€ ìˆ˜ìµì„ ì˜ë¯¸í•©ë‹ˆë‹¤.",
  "subtitle_display": "V(s, t)ëŠ” í˜„ì¬ ìƒíƒœì—ì„œì˜;;ê¸°ëŒ€ ìˆ˜ìµì„ ì˜ë¯¸í•©ë‹ˆë‹¤.",
  "narration_tts": "ë¸Œì´ ì—ìŠ¤ í‹°ëŠ”, í˜„ì¬ ìƒíƒœì—ì„œì˜ ê¸°ëŒ€ ìˆ˜ìµì„ ì˜ë¯¸í•©ë‹ˆë‹¤",

  "semantic_goal": "...",
  "required_elements": [...],
  ...
}
```

> **ë³€í™˜ ê·œì¹™**: `skills/narration-designer.md` ì°¸ì¡° (ì—ì´ì „íŠ¸ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì ìš©)

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Math-Video-Maker/
â”œâ”€â”€ CLAUDE.md                      â† ì´ íŒŒì¼
â”œâ”€â”€ state.json                     â† í˜„ì¬ í”„ë¡œì íŠ¸ ìƒíƒœ
â”œâ”€â”€ math_video_pipeline.py         â† CLI ë„êµ¬
â”œâ”€â”€ .env                           â† API í‚¤ ì„¤ì • (OPENAI_API_KEY)
â”‚
â”œâ”€â”€ .claude/                       â† ğŸ”¥ Claude Code ì„¤ì •
â”‚   â””â”€â”€ agents/                        # Sub-agents (ë³„ë„ ì»¨í…ìŠ¤íŠ¸ ì‹¤í–‰)
â”‚       â”œâ”€â”€ scene-director-hook.md     # Step 3: Hook+ë¶„ì„ ì”¬ ë¶„í• 
â”‚       â”œâ”€â”€ scene-director-core.md     # Step 3: í•µì‹¬ìˆ˜í•™ ì”¬ ë¶„í• 
â”‚       â”œâ”€â”€ scene-director-outro.md    # Step 3: ì ìš©+ì•„ì›ƒíŠ¸ë¡œ ì”¬ ë¶„í• 
â”‚       â”œâ”€â”€ asset-designer-hook.md     # Step 3: Hook+ë¶„ì„ ì—ì…‹ ì„¤ê³„
â”‚       â”œâ”€â”€ asset-designer-core.md     # Step 3: í•µì‹¬ìˆ˜í•™ ì—ì…‹ ì„¤ê³„
â”‚       â”œâ”€â”€ asset-designer-outro.md    # Step 3: ì ìš©+ì•„ì›ƒíŠ¸ë¡œ ì—ì…‹ ì„¤ê³„
â”‚       â”œâ”€â”€ visual-layout.md           # Step 4.5a: Layout ë‹¨ê³„
â”‚       â”œâ”€â”€ visual-animation.md        # Step 4.5b: Animation ë‹¨ê³„
â”‚       â”œâ”€â”€ visual-review.md           # Step 4.5c: Review ë‹¨ê³„
â”‚       â””â”€â”€ manim-coder.md             # Step 5: Manim ì½”ë“œ ìƒì„±
â”‚
â”œâ”€â”€ assets/                        â† ğŸ”¥ ê³µìš© ì—ì…‹ í´ë” (ëª¨ë“  í”„ë¡œì íŠ¸ ê³µìœ )
â”‚   â”œâ”€â”€ characters/                    # ìºë¦­í„° PNG
â”‚   â”œâ”€â”€ objects/                       # ë¬¼ì²´ PNG
â”‚   â””â”€â”€ icons/                         # ì•„ì´ì½˜ PNG
â”‚
â”œâ”€â”€ skills/                        â† ê°€ì´ë“œë¼ì¸ ë¬¸ì„œ (ì—ì´ì „íŠ¸ê°€ ì°¸ì¡°)
â”‚   â”œâ”€â”€ script-writer.md               # Step 2: ëŒ€ë³¸ ì‘ì„±
â”‚   â”œâ”€â”€ scene-director.md              # Step 3: ì”¬ ë¶„í•  ê·œì¹™ (ì—ì´ì „íŠ¸ ì°¸ì¡°)
â”‚   â”œâ”€â”€ narration-designer.md          # Step 3: ë‚˜ë ˆì´ì…˜ ë³€í™˜ ê·œì¹™ (ì—ì´ì „íŠ¸ ì°¸ì¡°)
â”‚   â”œâ”€â”€ visual-prompter-layout.md      # Step 4.5a: ê°ì²´ ë°°ì¹˜
â”‚   â”œâ”€â”€ visual-prompter-animation.md   # Step 4.5b: ì‹œí€€ìŠ¤ ì¶”ê°€
â”‚   â”œâ”€â”€ visual-prompter-review.md      # Step 4.5c: ê²€ì¦
â”‚   â”œâ”€â”€ manim-coder.md                 # Step 5: ì½”ë“œ êµ¬í˜„
â”‚   â”œâ”€â”€ code-validator.md              # Step 5.1: ì½”ë“œ ê²€ì¦/ìˆ˜ì •
â”‚   â”œâ”€â”€ manim-coder-reference.md       # ìƒì„¸ íŒ¨í„´ (í•„ìš”ì‹œ ì°¸ì¡°)
â”‚   â”œâ”€â”€ asset-catalog.md
â”‚   â”œâ”€â”€ asset-prompt-writer.md
â”‚   â””â”€â”€ image-prompt-writer.md
â”‚
â””â”€â”€ output/                        â† í”„ë¡œì íŠ¸ë³„ ì¶œë ¥
    â””â”€â”€ {project_id}/
        â”œâ”€â”€ 0_audio/                   # TTS ìŒì„± + íƒ€ì´ë°
        â”œâ”€â”€ 1_script/                  # ëŒ€ë³¸
        â”œâ”€â”€ 2_scenes/                  # ì”¬ ë¶„í•  (ë‚˜ë ˆì´ì…˜ 3ì¢… í¬í•¨)
        â”‚   â”œâ”€â”€ scenes_part1.json      # Hook+ë¶„ì„ (ì—ì´ì „íŠ¸ ì¶œë ¥)
        â”‚   â”œâ”€â”€ scenes_part2.json      # í•µì‹¬ìˆ˜í•™ (ì—ì´ì „íŠ¸ ì¶œë ¥)
        â”‚   â”œâ”€â”€ scenes_part3.json      # ì ìš©+ì•„ì›ƒíŠ¸ë¡œ (ì—ì´ì „íŠ¸ ì¶œë ¥)
        â”‚   â”œâ”€â”€ scenes.json            # ë³‘í•©ëœ ì „ì²´ ì”¬
        â”‚   â”œâ”€â”€ s1.json, s2.json...    # ê°œë³„ ì”¬ íŒŒì¼
        â”‚   â””â”€â”€ ...
        â”œâ”€â”€ 3_visual_prompts/          # ì‹œê° í”„ë¡¬í”„íŠ¸
        â”‚   â”œâ”€â”€ s1_visual.json
        â”‚   â”œâ”€â”€ s2_visual.json
        â”‚   â””â”€â”€ ...
        â”œâ”€â”€ 4_manim_code/              # Manim ì½”ë“œ
        â”œâ”€â”€ 6_image_prompts/           # ë°°ê²½ ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸
        â”œâ”€â”€ 7_subtitles/               # ìë§‰
        â”œâ”€â”€ 8_renders/                 # Manim ë Œë”ë§ ê²°ê³¼
        â”œâ”€â”€ 9_backgrounds/             # ë°°ê²½ ì´ë¯¸ì§€ (ì™¸ë¶€ ìƒì„±)
        â”œâ”€â”€ 10_scene_final/            # ì”¬ë³„ í•©ì„± ì˜ìƒ
        â””â”€â”€ final_video.mp4            # ìµœì¢… ì˜ìƒ
```

---

## ğŸ”§ CLI ëª…ë ¹ì–´ ì°¸ì¡°

```bash
# í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
python math_video_pipeline.py init --title "ì œëª©" --duration 480

# ìƒíƒœ í™•ì¸
python math_video_pipeline.py status

# ì”¬ ë¶„í•  ì €ì¥ (í† í° ì ˆì•½)
python math_video_pipeline.py split-scenes

# ì”¬ ë³‘í•© (sub-agent ê²°ê³¼ë¬¼ í†µí•©)
python math_video_pipeline.py merge-scenes
# â†’ scenes_part1.json + scenes_part2.json + scenes_part3.json ë³‘í•©
# â†’ ì”¬ ë²ˆí˜¸ ì¬ì •ë ¬ (s1, s2, s3...)
# â†’ scenes.json + s1.json, s2.json... ê°œë³„ íŒŒì¼ ìƒì„±

# ì—ì…‹ ì²´í¬ (Supabase ì¡°íšŒ + ë‹¤ìš´ë¡œë“œ + ëˆ„ë½ ëª©ë¡ ìƒì„±)
python math_video_pipeline.py asset-check

# ì—ì…‹ ë™ê¸°í™” (ë¡œì»¬ ì‹ ê·œ íŒŒì¼ â†’ Supabase ì—…ë¡œë“œ)
python math_video_pipeline.py asset-sync

# TTS ìƒì„±
python math_video_pipeline.py tts-all

# ì™¸ë¶€ ë…¹ìŒìš© í…ìŠ¤íŠ¸ ë‚´ë³´ë‚´ê¸°
python math_video_pipeline.py tts-export

# ì™¸ë¶€ ë…¹ìŒ íŒŒì¼ í™•ì¸
python math_video_pipeline.py audio-check

# ì™¸ë¶€ ë…¹ìŒ íŒŒì¼ ì²˜ë¦¬ (Whisper ë¶„ì„ + timing.json ìƒì„±)
python math_video_pipeline.py audio-process

# ===== ìë™í™” ëª…ë ¹ì–´ (NEW) =====

# Visual Prompter ì „ì²´ ìë™í™” (Layout â†’ Animation â†’ Review)
python math_video_pipeline.py visual-all             # ê¸°ë³¸ 30ì”¬ ë°°ì¹˜
python math_video_pipeline.py visual-all --batch 20  # ë°°ì¹˜ í¬ê¸° ì¡°ì •

# Visual Prompter ë‹¨ê³„ë³„ ì‹¤í–‰
python math_video_pipeline.py visual-layout-all     # Layoutë§Œ
python math_video_pipeline.py visual-animation-all  # Animationë§Œ
python math_video_pipeline.py visual-review-all     # Reviewë§Œ

# Manim ì½”ë“œ ì „ì²´ ìë™í™”
python math_video_pipeline.py manim-all             # ê¸°ë³¸ 20ì”¬ ë°°ì¹˜
python math_video_pipeline.py manim-all --batch 15  # ë°°ì¹˜ í¬ê¸° ì¡°ì •

# ===== ë Œë”ë§ ë° í•©ì„± =====

# ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ë‚´ë³´ë‚´ê¸°
python math_video_pipeline.py prompts-export

# ì´ë¯¸ì§€ ìƒíƒœ í™•ì¸
python math_video_pipeline.py images-check

# ì´ë¯¸ì§€ ì¼ê´„ ê°€ì ¸ì˜¤ê¸°
python math_video_pipeline.py images-import --source "C:/Downloads/backgrounds"

# Manim ë Œë”ë§
python math_video_pipeline.py render-all

# ë Œë”ë§ ê²°ê³¼ë¬¼ ìˆ˜ì§‘ (media/videos/ â†’ 8_renders/)
python math_video_pipeline.py render-collect

# SRT ìë§‰ ìƒì„±
python math_video_pipeline.py subtitle-generate

# ì”¬ë³„ ìµœì¢… í•©ì„± (ë°°ê²½ + Manim + ì˜¤ë””ì˜¤ + ìë§‰)
python math_video_pipeline.py compose-all

# ì „ì²´ ì˜ìƒ ë³‘í•©
python math_video_pipeline.py merge-final

# ë„ì›€ë§
python math_video_pipeline.py help
```

---

## ğŸ”§ ì”¬ ìˆ˜ì • (Post-Production)

> **ì‚¬ìš© ì‹œì **: final ì˜ìƒ ìƒì„± í›„ íŠ¹ì • ì”¬ ìˆ˜ì •ì´ í•„ìš”í•  ë•Œ

ì‚¬ìš©ìê°€ ì”¬ ìˆ˜ì • ìš”ì²­ ì‹œ (ì˜ˆ: "s7 ìˆ˜ì •", "s7 TTS ì¬ìƒì„±", "s16 ë’¤ì— ìƒˆ ì”¬ ì¶”ê°€"):

**Claudeê°€ í•  ê²ƒ**:
1. `skills/scene-editor.md` ì½ê¸° â† **í•„ìˆ˜!**
2. ìˆ˜ì • ìœ í˜• íŒŒì•…
3. scene-editor.mdì˜ ì ˆì°¨ì— ë”°ë¼ ì§„í–‰

### ì”¬ ìˆ˜ì • ëª…ë ¹ì–´

| ì‚¬ìš©ì ì…ë ¥ | Claude ë™ì‘ |
|-------------|-------------|
| "s7 ìˆ˜ì •" | ìˆ˜ì • ìœ í˜• ì§ˆë¬¸ â†’ í•´ë‹¹ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ |
| "s7 TTS ì¬ìƒì„±" | `scene-editor.md` ì½ê¸° â†’ tts â†’ subtitle â†’ compose |
| "s7 Manim ìˆ˜ì •" | `scene-editor.md` ì½ê¸° â†’ visual â†’ manim â†’ render â†’ compose |
| "s7 ìë§‰ ìˆ˜ì •" | `scene-editor.md` ì½ê¸° â†’ srt ìˆ˜ì • â†’ compose |
| "s7 ë‚´ìš© ìˆ˜ì •" | `scene-editor.md` ì½ê¸° â†’ scene â†’ tts â†’ visual â†’ manim â†’ render â†’ subtitle â†’ compose |
| "s16 ë’¤ì— ìƒˆ ì”¬ ì¶”ê°€" | `scene-editor.md` ì½ê¸° â†’ ìƒˆ ì”¬ í’€ íŒŒì´í”„ë¼ì¸ |
| "s15 ì‚­ì œ" | `scene-editor.md` ì½ê¸° â†’ scenes.json ìˆ˜ì • â†’ merge |
| "s7 ë°°ê²½ êµì²´" | `scene-editor.md` ì½ê¸° â†’ ì´ë¯¸ì§€ êµì²´ â†’ compose |

### ì”¬ ë‹¨ìœ„ CLI ëª…ë ¹ì–´

```bash
# âš ï¸ ìˆ˜ì • ì „ í•„ìˆ˜: ëŒ€ë³¸-TTS ë™ê¸°í™” ê²€ì¦
python math_video_pipeline.py verify-sync         # ì „ì²´ ê²€ì¦
python math_video_pipeline.py verify-sync s7      # íŠ¹ì • ì”¬ ê²€ì¦

# ê°œë³„ ì”¬ ì²˜ë¦¬ ëª…ë ¹ì–´
python math_video_pipeline.py tts-scene s7        # TTS ì¬ìƒì„±
python math_video_pipeline.py render-scene s7     # Manim ë Œë”ë§
python math_video_pipeline.py subtitle-scene s7   # ìë§‰ ìƒì„±
python math_video_pipeline.py compose-scene s7    # í•©ì„±

# ìµœì¢… ë³‘í•©
python math_video_pipeline.py merge-final
```

---

## ğŸ¯ ê¸°íƒ€ ëª…ë ¹ì–´

| ì‚¬ìš©ì ì…ë ¥ | Claude ë™ì‘ |
|-------------|-------------|
| "ì‹œì‘" | ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘ |
| "ìƒíƒœ" / "ê³„ì†" | ìƒíƒœ í™•ì¸ / ì¬ê°œ |
| "ì—ì…‹ ì²´í¬" / "ì—ì…‹ ì¤€ë¹„ ì™„ë£Œ" | ì—ì…‹ í™•ì¸ |
| "ë Œë”ë§" / "ìë§‰ ìƒì„±" / "í•©ì„±" | í•´ë‹¹ ë‹¨ê³„ ì‹¤í–‰ |

---

## ğŸ–¼ï¸ ë°°ê²½ ì´ë¯¸ì§€ ê°€ì´ë“œ

- **íŒŒì¼ëª…**: `s1_bg.png`, `s2_bg.png`, ... (ì§€ì›: png, jpg, webp)
- **í•´ìƒë„**: 1920Ã—1080 (16:9) ë˜ëŠ” 1080Ã—1920 (9:16)
- **ì›Œí¬í”Œë¡œìš°**: `prompts-export` â†’ AI ìƒì„± â†’ `9_backgrounds/`ì— ì €ì¥ â†’ `images-check`

---

## âš¡ ë‹¨ì¶• ì›Œí¬í”Œë¡œìš°

ë¹ ë¥¸ ì§„í–‰ì„ ì›í•˜ë©´:

```
ì‚¬ìš©ì: "ì‹œì‘"
Claude: ì£¼ì œ ë¬¼ì–´ë´„
ì‚¬ìš©ì: "í”¼íƒ€ê³ ë¼ìŠ¤ ì •ë¦¬ 3ë¶„ cyberpunk"
Claude: ë°”ë¡œ ì „ì²´ ì§„í–‰ (ëŒ€ë³¸â†’ì”¬â†’ì—ì…‹ì²´í¬â†’TTSâ†’Visual Prompterâ†’ì½”ë“œâ†’ë Œë”ë§)
```

---

## ğŸ”— 3ë‹¨ê³„ íŒŒì´í”„ë¼ì¸ (í•µì‹¬)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Scene Director â”‚ â†’ â”‚  Visual Prompter    â”‚ â†’ â”‚   Manim Coder   â”‚
â”‚   (Step 3)      â”‚    â”‚   (Step 4.5)        â”‚    â”‚   (Step 5)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "ë¬´ì—‡ì„" (What) â”‚    â”‚ "ì–´ë–»ê²Œ" (How)      â”‚    â”‚ "ì½”ë“œë¡œ" (Code) â”‚
â”‚                 â”‚    â”‚                     â”‚    â”‚                 â”‚
â”‚ â€¢ semantic_goal â”‚ â†’  â”‚ â€¢ objects (ìƒì„¸)    â”‚ â†’  â”‚ â€¢ Python ì½”ë“œ   â”‚
â”‚ â€¢ required_elem â”‚    â”‚ â€¢ sequence (ì‹œê°„ìˆœ) â”‚    â”‚ â€¢ wait_tag      â”‚
â”‚ â€¢ wow_moment    â”‚    â”‚ â€¢ positions (êµ¬ì²´)  â”‚    â”‚ â€¢ ë Œë”ë§ ê°€ëŠ¥   â”‚
â”‚ â€¢ emotion_flow  â”‚    â”‚ â€¢ visual_notes      â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   scenes.json            s{n}_visual.json          s{n}_manim.py
```

---

## ğŸš¨ ì¤‘ìš” ì°¸ê³ ì‚¬í•­

- **Sub-agents ì‚¬ìš©**: Visual Prompter(Layout/Animation/Review)ì™€ Manim CoderëŠ” ë³„ë„ ì—ì´ì „íŠ¸ë¡œ ì‹¤í–‰ â†’ ë©”ì¸ ì»¨í…ìŠ¤íŠ¸ ì ˆì•½
- **Skills íŒŒì¼ì€ ì°¸ì¡°ìš©**: ì—ì´ì „íŠ¸ê°€ ì½ê³  ê°€ì´ë“œë¼ì¸ ë”°ë¦„ (`.claude/agents/` í´ë”ì— ì—ì´ì „íŠ¸ ì •ì˜)
- **Pythonì€ API í˜¸ì¶œìš©**: TTS, Whisper, ë Œë”ë§
- **state.jsonìœ¼ë¡œ ìƒíƒœ ì¶”ì **: ì¤‘ë‹¨ í›„ ì¬ê°œ ê°€ëŠ¥
- **ê° ë‹¨ê³„ ìŠ¹ì¸ í›„ ì§„í–‰**: ì‚¬ìš©ì í™•ì¸ ì—†ì´ ë‹¤ìŒ ë‹¨ê³„ ì•ˆ ë„˜ì–´ê° (Visual PrompterëŠ” ìë™)
- **OpenAI TTS ì‚¬ìš©**: ìœ ë£Œì§€ë§Œ ì•ˆì •ì , ì¼ì¼ í•œë„ ì—†ìŒ
- **ìºë¦­í„°/ë¬¼ì²´ëŠ” PNG ì‚¬ìš©**: Manimìœ¼ë¡œ ì§ì ‘ ê·¸ë¦¬ë©´ í’ˆì§ˆ ì €í•˜
- **ì—ì…‹ì€ ë£¨íŠ¸ í´ë”**: `assets/` í´ë”ëŠ” ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ê³µìœ 
- **ì—ì…‹ ì²´í¬ ë‹¨ê³„ í•„ìˆ˜**: PNG ì—†ìœ¼ë©´ Manim ì½”ë“œ ìƒì„± ì „ì— ì‚¬ìš©ìì—ê²Œ ìš”ì²­
- **Visual PrompterëŠ” ìë™**: ì”¬ë³„ë¡œ ìë™ ìƒì„±, ìˆ˜ì • í•„ìš”ì‹œ ëª…ë ¹ì–´ ì‚¬ìš©

---

## ğŸ” í™˜ê²½ ì„¤ì • (.env)

```env
# OpenAI TTS (í•„ìˆ˜)
OPENAI_API_KEY=sk-proj-your-api-key-here

# Supabase (ì—ì…‹ ê´€ë¦¬)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-role-key
```

> API í‚¤ ë°œê¸‰:
> - OpenAI: https://platform.openai.com/api-keys
> - Supabase: Dashboard â†’ Settings â†’ API

---

## ğŸ“Š current_phase ê°’ ëª©ë¡

| phase ê°’                     | ì˜ë¯¸                     | ë‹¤ìŒ ë‹¨ê³„           |
| ---------------------------- | ------------------------ | ------------------- |
| initialized                  | í”„ë¡œì íŠ¸ ìƒì„±ë¨          | ëŒ€ë³¸ ì‘ì„±           |
| script_approved              | ëŒ€ë³¸ ìŠ¹ì¸ë¨              | ì”¬ ë¶„í•              |
| scenes_in_progress           | ì”¬ ë¶„í•  ì§„í–‰ ì¤‘          | ì—ì´ì „íŠ¸ ì™„ë£Œ ëŒ€ê¸°  |
| **scenes_completed**         | **ì”¬ ë¶„í• +ë‚˜ë ˆì´ì…˜ ì™„ë£Œ** | **ì—ì…‹ ì²´í¬**      |
| assets_checked               | ì—ì…‹ í™•ì¸ ì™„ë£Œ           | TTS ìƒì„±            |
| tts_completed                | TTS ìƒì„± ì™„ë£Œ            | Visual Layout       |
| visual_layout_in_progress    | Layout ì‘ì„± ì¤‘           | ê³„ì† Layout         |
| visual_animation_in_progress | Animation ì‘ì„± ì¤‘        | ê³„ì† Animation      |
| visual_review_in_progress    | Review ì§„í–‰ ì¤‘           | ê³„ì† Review         |
| visual_prompts_completed     | ì‹œê° í”„ë¡¬í”„íŠ¸ ì™„ë£Œ       | Manim ì½”ë“œ          |
| manim_coding                 | ì½”ë“œ ì‘ì„± ì¤‘             | ê³„ì† ì½”ë“œ ì‘ì„±      |
| manim_completed              | ëª¨ë“  ì½”ë“œ ì™„ë£Œ           | ì½”ë“œ ê²€ì¦           |
| manim_validated              | ì½”ë“œ ê²€ì¦ ì™„ë£Œ           | ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸     |
| images_ready                 | ë°°ê²½ ì´ë¯¸ì§€ ì¤€ë¹„         | Manim ë Œë”ë§        |
| rendering                    | Manim ë Œë”ë§ ì¤‘          | ë Œë”ë§ ì™„ë£Œ ëŒ€ê¸°    |
| rendered                     | Manim ë Œë”ë§ ì™„ë£Œ        | ìë§‰ ë° ìµœì¢… í•©ì„±   |
| composing                    | ìµœì¢… í•©ì„± ì¤‘             | í•©ì„± ì™„ë£Œ ëŒ€ê¸°      |
| completed                    | ëª¨ë“  ì‘ì—… ì™„ë£Œ           | -                   |
