# Narration Designer Skill

## 역할 정의

> **이 문서는 Scene Director가 `subtitle_display` 분할 규칙을 참조하는 용도입니다.**

### 역할 분담

| 역할 | 담당 | 참조 문서 |
|------|------|----------|
| **Script Writer** | TTS 생성 | `skills/script-writer.md` |
| **Scene Director** | TTS 배치 + 자막 분할 | 이 문서 (subtitle_display만) |

> ⚠️ **Scene Director는 TTS를 직접 생성하지 않습니다!**
> Script Writer가 대본 작성 시 `tts` 필드를 함께 작성합니다.
> Scene Director는 대본의 `tts`를 씬 분할에 맞게 배치만 합니다.

| 필드 | 용도 | 담당 |
|------|------|------|
| `narration_display` | 대본 원문 | Scene Director (content에서 추출) |
| `subtitle_display` | 자막 (분할) | Scene Director (이 문서의 분할 규칙 적용) |
| `narration_tts` | TTS 음성 | **Script Writer** (생성) → Scene Director (배치) |

---

## subtitle_display 규칙 (자막 분할)

> **핵심**: `narration_display`를 의미 단위로 분할하여 `;;` 삽입. Python은 `;;` 기준으로 SRT 생성.

### 분할 금지 패턴

| 금지 | 예시 |
|------|------|
| 수식 내부 | `V(s, t)` 내부 쉼표에서 분할 X |
| 따옴표+조사 | `"말"` / `는 사실` X |
| 콜론+10자미만 | `시간:` / `2시` X |
| 5자 미만 자막 | `자,` 혼자 X |

### 분할 허용 조건

> **분할점 앞뒤 모두 10자 이상 + 의미 완결 시에만**

| 우선순위 | 위치 | 예시 |
|----------|------|------|
| 1 | 마침표(.) 뒤 | `사실일까요?;;항공사는...` |
| 2 | "첫 번째/두 번째" 앞 | 나열 구조 |
| 3 | 콜론(:) 뒤 (15자 이상) | `합치면:;;dΠ/dp = ...` |
| 4 | 완전한 절 경계 | 주어+서술 완결 후 |
| 5 | 목적어 조사 앞 | `시나리오의;;기대값을...` |

### 길이 가이드

| 구분 | 길이 |
|------|------|
| 최대 | 30자 (초과 시 반드시 분할) |
| 목표 | 15~25자 |
| 최소 | 10자 |

### 예시

**입력** (`narration_display`):
```
"쿠키 삭제하면 싸진다"는 말, 사실일까요? 항공사는 당신의 지갑 속을 들여다보고 있습니다.
```

**출력** (`subtitle_display`):
```
"쿠키 삭제하면 싸진다"는 말, 사실일까요?;;항공사는 당신의 지갑 속을 들여다보고 있습니다.
```

---

## 체크리스트

### subtitle_display (Scene Director 참조)
- [ ] 30자 초과 문장은 `;;`로 분할했는가?
- [ ] 분할점 앞뒤 모두 10자 이상인가?
- [ ] 수식, 따옴표 내부에서 분할하지 않았는가?

### narration_tts (Scene Director 참조)
- [ ] **대본의 `tts` 필드에서 해당 구간을 추출했는가?** (직접 생성 X!)

> ⚠️ **TTS 변환 규칙은 `skills/script-writer.md` 참조**
> Script Writer가 숫자/기호 → 한글 발음, 분수 읽기, 복잡한 수식 처리를 담당합니다.

---

## 전체 예시

### 입력 (대본에서)

```json
{
  "content": "가격은 그대로인데, 용량이 줄었습니다. 100g → 80g. 이건 20% 감소입니다!",
  "tts": "가격은 그대로인데, 용량이 줄었습니다... 백 그램에서 팔십 그램으로, 이건 이십 퍼센트 감소입니다"
}
```

### 출력 (Scene Director가 작성)

```json
{
  "scene_id": "s3",
  "narration_display": "가격은 그대로인데, 용량이 줄었습니다. 100g → 80g. 이건 20% 감소입니다!",
  "subtitle_display": "가격은 그대로인데, 용량이 줄었습니다.;;100g → 80g.;;이건 20% 감소입니다!",
  "narration_tts": "가격은 그대로인데, 용량이 줄었습니다... 백 그램에서 팔십 그램으로, 이건 이십 퍼센트 감소입니다"
}
```

> `narration_tts`는 대본의 `tts`에서 해당 구간을 그대로 추출한 것입니다.
